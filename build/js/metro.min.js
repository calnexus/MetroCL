/*!
 * Metro UI CSS v4.0.0 (https://metroui.org.ua)
 * Copyright 2017 Sergey Pimenov
 * Licensed under MIT
 */

!function(t){"function"==typeof define&&define.amd?define(["jquery"],t):t(jQuery)}(function(t){"use strict";function e(t){return i(n(a(t)))}function n(t){return r(l(s(t),8*t.length))}function i(t){for(var e,n=M?"0123456789ABCDEF":"0123456789abcdef",i="",a=0;a<t.length;a++)e=t.charCodeAt(a),i+=n.charAt(e>>>4&15)+n.charAt(15&e);return i}function a(t){for(var e,n,i="",a=-1;++a<t.length;)e=t.charCodeAt(a),n=a+1<t.length?t.charCodeAt(a+1):0,55296<=e&&e<=56319&&56320<=n&&n<=57343&&(e=65536+((1023&e)<<10)+(1023&n),a++),e<=127?i+=String.fromCharCode(e):e<=2047?i+=String.fromCharCode(192|e>>>6&31,128|63&e):e<=65535?i+=String.fromCharCode(224|e>>>12&15,128|e>>>6&63,128|63&e):e<=2097151&&(i+=String.fromCharCode(240|e>>>18&7,128|e>>>12&63,128|e>>>6&63,128|63&e));return i}function s(t){var e,n=new Array(t.length>>2);for(e=0;e<n.length;e++)n[e]=0;for(e=0;e<8*t.length;e+=8)n[e>>5]|=(255&t.charCodeAt(e/8))<<e%32;return n}function r(t){for(var e="",n=0;n<32*t.length;n+=8)e+=String.fromCharCode(t[n>>5]>>>n%32&255);return e}function l(t,e){t[e>>5]|=128<<e%32,t[14+(e+64>>>9<<4)]=e;for(var n=1732584193,i=-271733879,a=-1732584194,s=271733878,o=0;o<t.length;o+=16){var r=n,l=i,d=a,m=s;i=p(i=p(i=p(i=p(i=u(i=u(i=u(i=u(i=h(i=h(i=h(i=h(i=c(i=c(i=c(i=c(i,a=c(a,s=c(s,n=c(n,i,a,s,t[o],7,-680876936),i,a,t[o+1],12,-389564586),n,i,t[o+2],17,606105819),s,n,t[o+3],22,-1044525330),a=c(a,s=c(s,n=c(n,i,a,s,t[o+4],7,-176418897),i,a,t[o+5],12,1200080426),n,i,t[o+6],17,-1473231341),s,n,t[o+7],22,-45705983),a=c(a,s=c(s,n=c(n,i,a,s,t[o+8],7,1770035416),i,a,t[o+9],12,-1958414417),n,i,t[o+10],17,-42063),s,n,t[o+11],22,-1990404162),a=c(a,s=c(s,n=c(n,i,a,s,t[o+12],7,1804603682),i,a,t[o+13],12,-40341101),n,i,t[o+14],17,-1502002290),s,n,t[o+15],22,1236535329),a=h(a,s=h(s,n=h(n,i,a,s,t[o+1],5,-165796510),i,a,t[o+6],9,-1069501632),n,i,t[o+11],14,643717713),s,n,t[o],20,-373897302),a=h(a,s=h(s,n=h(n,i,a,s,t[o+5],5,-701558691),i,a,t[o+10],9,38016083),n,i,t[o+15],14,-660478335),s,n,t[o+4],20,-405537848),a=h(a,s=h(s,n=h(n,i,a,s,t[o+9],5,568446438),i,a,t[o+14],9,-1019803690),n,i,t[o+3],14,-187363961),s,n,t[o+8],20,1163531501),a=h(a,s=h(s,n=h(n,i,a,s,t[o+13],5,-1444681467),i,a,t[o+2],9,-51403784),n,i,t[o+7],14,1735328473),s,n,t[o+12],20,-1926607734),a=u(a,s=u(s,n=u(n,i,a,s,t[o+5],4,-378558),i,a,t[o+8],11,-2022574463),n,i,t[o+11],16,1839030562),s,n,t[o+14],23,-35309556),a=u(a,s=u(s,n=u(n,i,a,s,t[o+1],4,-1530992060),i,a,t[o+4],11,1272893353),n,i,t[o+7],16,-155497632),s,n,t[o+10],23,-1094730640),a=u(a,s=u(s,n=u(n,i,a,s,t[o+13],4,681279174),i,a,t[o],11,-358537222),n,i,t[o+3],16,-722521979),s,n,t[o+6],23,76029189),a=u(a,s=u(s,n=u(n,i,a,s,t[o+9],4,-640364487),i,a,t[o+12],11,-421815835),n,i,t[o+15],16,530742520),s,n,t[o+2],23,-995338651),a=p(a,s=p(s,n=p(n,i,a,s,t[o],6,-198630844),i,a,t[o+7],10,1126891415),n,i,t[o+14],15,-1416354905),s,n,t[o+5],21,-57434055),a=p(a,s=p(s,n=p(n,i,a,s,t[o+12],6,1700485571),i,a,t[o+3],10,-1894986606),n,i,t[o+10],15,-1051523),s,n,t[o+1],21,-2054922799),a=p(a,s=p(s,n=p(n,i,a,s,t[o+8],6,1873313359),i,a,t[o+15],10,-30611744),n,i,t[o+6],15,-1560198380),s,n,t[o+13],21,1309151649),a=p(a,s=p(s,n=p(n,i,a,s,t[o+4],6,-145523070),i,a,t[o+11],10,-1120210379),n,i,t[o+2],15,718787259),s,n,t[o+9],21,-343485551),n=f(n,r),i=f(i,l),a=f(a,d),s=f(s,m)}return[n,i,a,s]}function d(t,e,n,i,a,s){return f(m(f(f(e,t),f(i,s)),a),n)}function c(t,e,n,i,a,s,o){return d(e&n|~e&i,t,e,a,s,o)}function h(t,e,n,i,a,s,o){return d(e&i|n&~i,t,e,a,s,o)}function u(t,e,n,i,a,s,o){return d(e^n^i,t,e,a,s,o)}function p(t,e,n,i,a,s,o){return d(n^(e|~i),t,e,a,s,o)}function f(t,e){var n=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(n>>16)<<16|65535&n}function m(t,e){return t<<e|t>>>32-e}function g(t){var e=t||window.event,n=k.call(arguments,1),i=0,a=0,s=0,o=0,r=0,l=0;if(t=b.event.fix(e),t.type="mousewheel","detail"in e&&(s=-1*e.detail),"wheelDelta"in e&&(s=e.wheelDelta),"wheelDeltaY"in e&&(s=e.wheelDeltaY),"wheelDeltaX"in e&&(a=-1*e.wheelDeltaX),"axis"in e&&e.axis===e.HORIZONTAL_AXIS&&(a=-1*s,s=0),i=0===s?a:s,"deltaY"in e&&(i=s=-1*e.deltaY),"deltaX"in e&&(a=e.deltaX,0===s&&(i=-1*a)),0!==s||0!==a){if(1===e.deltaMode){var d=b.data(this,"mousewheel-line-height");i*=d,s*=d,a*=d}else if(2===e.deltaMode){var c=b.data(this,"mousewheel-page-height");i*=c,s*=c,a*=c}if(o=Math.max(Math.abs(s),Math.abs(a)),(!_||o<_)&&(_=o,C(e,o)&&(_/=40)),C(e,o)&&(i/=40,a/=40,s/=40),i=Math[i>=1?"floor":"ceil"](i/_),a=Math[a>=1?"floor":"ceil"](a/_),s=Math[s>=1?"floor":"ceil"](s/_),b.event.special.mousewheel.settings.normalizeOffset&&this.getBoundingClientRect){var h=this.getBoundingClientRect();r=t.clientX-h.left,l=t.clientY-h.top}return t.deltaX=a,t.deltaY=s,t.deltaFactor=_,t.offsetX=r,t.offsetY=l,t.deltaMode=0,n.unshift(t,i,a,s),O&&clearTimeout(O),O=setTimeout(v,200),(b.event.dispatch||b.event.handle).apply(this,n)}}function v(){_=null}function C(t,e){return b.event.special.mousewheel.settings.adjustOldDeltas&&"mousewheel"===t.type&&e%120==0}var b=t;if(void 0===t)throw new Error("Metro's JavaScript requires jQuery");if(window.canObserveMutation="MutationObserver"in window,!1===window.canObserveMutation)throw new Error("Metro 4 requires MutationObserver. Your browser is not support MutationObserver. Please use polyfill, example: //cdn.jsdelivr.net/g/mutationobserver/ or other.");void 0===window.METRO_DEBUG&&(window.METRO_DEBUG=!0),void 0===window.METRO_CALENDAR_WEEK_START&&(window.METRO_CALENDAR_WEEK_START=1),void 0===window.METRO_LOCALE&&(window.METRO_LOCALE="en-US"),void 0===window.METRO_ANIMATION_DURATION&&(window.METRO_ANIMATION_DURATION=300),void 0===window.METRO_CALLBACK_TIMEOUT&&(window.METRO_CALLBACK_TIMEOUT=500),void 0===window.METRO_TIMEOUT&&(window.METRO_TIMEOUT=2e3),void 0===window.METRO_HOTKEYS_FILTER_CONTENT_EDITABLE&&(window.METRO_HOTKEYS_FILTER_CONTENT_EDITABLE=!0),void 0===window.METRO_HOTKEYS_FILTER_INPUT_ACCEPTING_ELEMENTS&&(window.METRO_HOTKEYS_FILTER_INPUT_ACCEPTING_ELEMENTS=!0),void 0===window.METRO_HOTKEYS_FILTER_TEXT_INPUTS&&(window.METRO_HOTKEYS_FILTER_TEXT_INPUTS=!0),void 0===window.METRO_HOTKEYS_BUBBLE_UP&&(window.METRO_HOTKEYS_BUBBLE_UP=!1),void 0===window.METRO_I18N&&(window.METRO_I18N="metro/js/i18n/"),"function"!=typeof Object.create&&(Object.create=function(t){function e(){}return e.prototype=t,new e});var w="ontouchstart"in window||navigator.MaxTouchPoints>0||navigator.msMaxTouchPoints>0,y={isTouchable:w,eventStart:w?"touchstart.metro":"mousedown.metro",eventStop:w?"touchend.metro":"mouseup.metro",eventMove:w?"touchmove.metro":"mousemove.metro",eventEnter:w?"touchstart.metro":"mouseenter.metro",eventLeave:w?"touchend.metro":"mouseleave.metro",hotkeys:[],init:function(){var t=b("[data-role]"),e=b("[data-hotkey]"),n=b("body")[0];y.initHotkeys(e),y.initWidgets(t);var i,a;return i={childList:!0,subtree:!0,attributes:!0},a=function(t){t.map(function(t){if("attributes"===t.type){var e=b(t.target);void 0!==e.data("metroComponent")&&e.data(e.data("metroComponent")).changeAttribute(t.attributeName)}if(t.addedNodes&&t.addedNodes.length>0){var n,i,a={},s={};for(n=0;n<t.addedNodes.length;n++){var o=t.addedNodes[n];if("SCRIPT"===o.tagName||"STYLE"===o.tagName)return;s=(i=b(t.addedNodes[n])).find("[data-role]"),(a=void 0!==i.data("role")?b.merge(s,i):s).length&&y.initWidgets(a)}}})},new MutationObserver(a).observe(n,i),this},initHotkeys:function(t){b.each(t,function(){var t=b(this),e=!!t.data("hotkey")&&t.data("hotkey").toLowerCase();!1!==e&&!0!==t.data("hotKeyBonded")&&(b.Metro.hotkeys.push(e),b(document).on("keyup",null,e,function(e){if(void 0!==t)return"A"===t[0].tagName&&void 0!==t.attr("href")&&""!==t.attr("href").trim()&&"#"!==t.attr("href").trim()?document.location.href=t.attr("href"):t.click(),METRO_HOTKEYS_BUBBLE_UP}),t.data("hotKeyBonded",!0))})},initWidgets:function(t){b.each(t,function(){var t=b(this);t.data("role").split(/\s*,\s*/).map(function(e){try{void 0!==b.fn[e]&&!0!==t.data(e+"-initiated")&&(b.fn[e].call(t),t.data(e+"-initiated",!0),t.data("metroComponent",e))}catch(t){console.log(t.message,t.stack)}})})},plugin:function(t,e){b.fn[t]=function(n){return this.each(function(){b.data(this,t,Object.create(e).init(n,this))})}},noop:function(){},noop_true:function(){return!0},noop_false:function(){return!1}};b.Metro=window.Metro=y,b.easing.jswing=b.easing.swing,b.extend(b.easing,{def:"easeOutQuad",swing:function(t,e,n,i,a){return b.easing[b.easing.def](t,e,n,i,a)},easeInQuad:function(t,e,n,i,a){return i*(e/=a)*e+n},easeOutQuad:function(t,e,n,i,a){return-i*(e/=a)*(e-2)+n},easeInOutQuad:function(t,e,n,i,a){return(e/=a/2)<1?i/2*e*e+n:-i/2*(--e*(e-2)-1)+n},easeInCubic:function(t,e,n,i,a){return i*(e/=a)*e*e+n},easeOutCubic:function(t,e,n,i,a){return i*((e=e/a-1)*e*e+1)+n},easeInOutCubic:function(t,e,n,i,a){return(e/=a/2)<1?i/2*e*e*e+n:i/2*((e-=2)*e*e+2)+n},easeInQuart:function(t,e,n,i,a){return i*(e/=a)*e*e*e+n},easeOutQuart:function(t,e,n,i,a){return-i*((e=e/a-1)*e*e*e-1)+n},easeInOutQuart:function(t,e,n,i,a){return(e/=a/2)<1?i/2*e*e*e*e+n:-i/2*((e-=2)*e*e*e-2)+n},easeInQuint:function(t,e,n,i,a){return i*(e/=a)*e*e*e*e+n},easeOutQuint:function(t,e,n,i,a){return i*((e=e/a-1)*e*e*e*e+1)+n},easeInOutQuint:function(t,e,n,i,a){return(e/=a/2)<1?i/2*e*e*e*e*e+n:i/2*((e-=2)*e*e*e*e+2)+n},easeInSine:function(t,e,n,i,a){return-i*Math.cos(e/a*(Math.PI/2))+i+n},easeOutSine:function(t,e,n,i,a){return i*Math.sin(e/a*(Math.PI/2))+n},easeInOutSine:function(t,e,n,i,a){return-i/2*(Math.cos(Math.PI*e/a)-1)+n},easeInExpo:function(t,e,n,i,a){return 0==e?n:i*Math.pow(2,10*(e/a-1))+n},easeOutExpo:function(t,e,n,i,a){return e==a?n+i:i*(1-Math.pow(2,-10*e/a))+n},easeInOutExpo:function(t,e,n,i,a){return 0==e?n:e==a?n+i:(e/=a/2)<1?i/2*Math.pow(2,10*(e-1))+n:i/2*(2-Math.pow(2,-10*--e))+n},easeInCirc:function(t,e,n,i,a){return-i*(Math.sqrt(1-(e/=a)*e)-1)+n},easeOutCirc:function(t,e,n,i,a){return i*Math.sqrt(1-(e=e/a-1)*e)+n},easeInOutCirc:function(t,e,n,i,a){return(e/=a/2)<1?-i/2*(Math.sqrt(1-e*e)-1)+n:i/2*(Math.sqrt(1-(e-=2)*e)+1)+n},easeInElastic:function(t,e,n,i,a){var s=1.70158,o=0,r=i;return 0==e?n:1==(e/=a)?n+i:(o||(o=.3*a),r<Math.abs(i)?(r=i,s=o/4):s=o/(2*Math.PI)*Math.asin(i/r),-r*Math.pow(2,10*(e-=1))*Math.sin((e*a-s)*(2*Math.PI)/o)+n)},easeOutElastic:function(t,e,n,i,a){var s=1.70158,o=0,r=i;return 0==e?n:1==(e/=a)?n+i:(o||(o=.3*a),r<Math.abs(i)?(r=i,s=o/4):s=o/(2*Math.PI)*Math.asin(i/r),r*Math.pow(2,-10*e)*Math.sin((e*a-s)*(2*Math.PI)/o)+i+n)},easeInOutElastic:function(t,e,n,i,a){var s=1.70158,o=0,r=i;return 0==e?n:2==(e/=a/2)?n+i:(o||(o=a*(.3*1.5)),r<Math.abs(i)?(r=i,s=o/4):s=o/(2*Math.PI)*Math.asin(i/r),e<1?r*Math.pow(2,10*(e-=1))*Math.sin((e*a-s)*(2*Math.PI)/o)*-.5+n:r*Math.pow(2,-10*(e-=1))*Math.sin((e*a-s)*(2*Math.PI)/o)*.5+i+n)},easeInBack:function(t,e,n,i,a,s){return void 0==s&&(s=1.70158),i*(e/=a)*e*((s+1)*e-s)+n},easeOutBack:function(t,e,n,i,a,s){return void 0==s&&(s=1.70158),i*((e=e/a-1)*e*((s+1)*e+s)+1)+n},easeInOutBack:function(t,e,n,i,a,s){return void 0==s&&(s=1.70158),(e/=a/2)<1?i/2*(e*e*((1+(s*=1.525))*e-s))+n:i/2*((e-=2)*e*((1+(s*=1.525))*e+s)+2)+n},easeInBounce:function(t,e,n,i,a){return i-b.easing.easeOutBounce(t,a-e,0,i,a)+n},easeOutBounce:function(t,e,n,i,a){return(e/=a)<1/2.75?i*(7.5625*e*e)+n:e<2/2.75?i*(7.5625*(e-=1.5/2.75)*e+.75)+n:e<2.5/2.75?i*(7.5625*(e-=2.25/2.75)*e+.9375)+n:i*(7.5625*(e-=2.625/2.75)*e+.984375)+n},easeInOutBounce:function(t,e,n,i,a){return e<a/2?.5*b.easing.easeInBounce(t,2*e,0,i,a)+n:.5*b.easing.easeOutBounce(t,2*e-a,0,i,a)+.5*i+n}}),Array.prototype.shuffle=function(){for(var t,e,n=this.length;0!==n;)e=Math.floor(Math.random()*n),t=this[n-=1],this[n]=this[e],this[e]=t;return this},Array.prototype.clone=function(){return this.slice(0)},Array.prototype.unique=function(){for(var t=this.concat(),e=0;e<t.length;++e)for(var n=e+1;n<t.length;++n)t[e]===t[n]&&t.splice(n--,1);return t},Number.prototype.format=function(t,e,n,i){var a="\\d(?=(\\d{"+(e||3)+"})+"+(t>0?"\\D":"$")+")",s=this.toFixed(Math.max(0,~~t));return(i?s.replace(".",i):s).replace(new RegExp(a,"g"),"$&"+(n||","))},String.prototype.capitalize=function(){return this.charAt(0).toUpperCase()+this.slice(1)},Date.prototype.format=function(t,e){void 0===e&&(e=y.default_locale.calendar);var n=this,i=n.getDay(),a=n.getDate(),s=n.getMonth(),o=n.getFullYear(),r=n.getHours(),l=e.days,d=e.months,c=[0,31,59,90,120,151,181,212,243,273,304,334],h=function(){return o%4==0&&o%100!=0||o%400==0},u=function(){var t=new Date(n);return t.setDate(a-(i+6)%7+3),t},p=function(t,e){return(""+(Math.pow(10,e)+t)).slice(1)};return t.replace(/%[a-z]/gi,function(t){return{"%a":l[i].slice(0,3),"%A":l[i],"%b":d[s].slice(0,3),"%B":d[s],"%c":n.toUTCString(),"%C":Math.floor(o/100),"%d":p(a,2),"%e":a,"%F":n.toISOString().slice(0,10),"%G":u().getFullYear(),"%g":(""+u().getFullYear()).slice(2),"%H":p(r,2),"%I":p((r+11)%12+1,2),"%j":p(c[s]+a+(s>1&&h()?1:0),3),"%k":""+r,"%l":(r+11)%12+1,"%m":p(s+1,2),"%M":p(n.getMinutes(),2),"%p":r<12?"AM":"PM","%P":r<12?"am":"pm","%s":Math.round(n.getTime()/1e3),"%S":p(n.getSeconds(),2),"%u":i||7,"%V":function(){var t=u(),e=t.valueOf();t.setMonth(0,1);var n=t.getDay();return 4!==n&&t.setMonth(0,1+(4-n+7)%7),p(1+Math.ceil((e-t)/6048e5),2)}(),"%w":""+i,"%x":n.toLocaleDateString(),"%X":n.toLocaleTimeString(),"%y":(""+o).slice(2),"%Y":o,"%z":n.toTimeString().replace(/.+GMT([+-]\d+).+/,"$1"),"%Z":n.toTimeString().replace(/.+\((.+?)\)$/,"$1")}[t]||t})};var T={specialKeys:{8:"backspace",9:"tab",10:"return",13:"return",16:"shift",17:"ctrl",18:"alt",19:"pause",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"insert",46:"del",59:";",61:"=",96:"0",97:"1",98:"2",99:"3",100:"4",101:"5",102:"6",103:"7",104:"8",105:"9",106:"*",107:"+",109:"-",110:".",111:"/",112:"f1",113:"f2",114:"f3",115:"f4",116:"f5",117:"f6",118:"f7",119:"f8",120:"f9",121:"f10",122:"f11",123:"f12",144:"numlock",145:"scroll",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},shiftNums:{"`":"~",1:"!",2:"@",3:"#",4:"$",5:"%",6:"^",7:"&",8:"*",9:"(",0:")","-":"_","=":"+",";":": ","'":'"',",":"<",".":">","/":"?","\\":"|"},textAcceptingInputTypes:["text","password","number","email","url","range","date","month","week","time","datetime","datetime-local","search","color","tel"],textInputTypes:/textarea|input|select/i,options:{filterInputAcceptingElements:METRO_HOTKEYS_FILTER_INPUT_ACCEPTING_ELEMENTS,filterTextInputs:METRO_HOTKEYS_FILTER_TEXT_INPUTS,filterContentEditable:METRO_HOTKEYS_FILTER_CONTENT_EDITABLE},keyHandler:function(t){if("string"==typeof t.data&&(t.data={keys:t.data}),t.data&&t.data.keys&&"string"==typeof t.data.keys){var e=t.handler,n=t.data.keys.toLowerCase().split(" ");t.handler=function(t){if(this===t.target||!(T.options.filterInputAcceptingElements&&T.textInputTypes.test(t.target.nodeName)||T.options.filterContentEditable&&b(t.target).attr("contenteditable")||T.options.filterTextInputs&&b.inArray(t.target.type,T.textAcceptingInputTypes)>-1)){var i="keypress"!==t.type&&T.specialKeys[t.which],a=String.fromCharCode(t.which).toLowerCase(),s="",o={};b.each(["alt","ctrl","shift"],function(e,n){t[n+"Key"]&&i!==n&&(s+=n+"+")}),t.metaKey&&!t.ctrlKey&&"meta"!==i&&(s+="meta+"),t.metaKey&&"meta"!==i&&s.indexOf("alt+ctrl+shift+")>-1&&(s=s.replace("alt+ctrl+shift+","hyper+")),i?o[s+i]=!0:(o[s+a]=!0,o[s+T.shiftNums[a]]=!0,"shift+"===s&&(o[T.shiftNums[a]]=!0));for(var r=0,l=n.length;r<l;r++)if(o[n[r]])return e.apply(this,arguments)}}}}};b.each(["keydown","keyup","keypress"],function(){b.event.special[this]={add:T.keyHandler}});var x={"en-US":{calendar:{months:["January","February","March","April","May","June","July","August","September","October","November","December","Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Su","Mo","Tu","We","Th","Fr","Sa","Sun","Mon","Tus","Wen","Thu","Fri","Sat"],time:{days:"DAYS",hours:"HOURS",minutes:"MINS",seconds:"SECS"}},buttons:{ok:"OK",cancel:"Cancel",done:"Done",today:"Today",now:"Now",clear:"Clear",help:"Help",yes:"Yes",no:"No",random:"Random"}},"de-DE":{calendar:{months:["Januar","Februar","März","April","Mai","Juni","Juli","August","September","Oktober","November","Dezember","Jan","Feb","Mär","Apr","Mai","Jun","Jul","Aug","Sep","Okt","Nov","Dez"],days:["Sonntag","Montag","Dienstag","Mittwoch","Donnerstag","Freitag","Samstag","Sn","Mn","Di","Mi","Do","Fr","Sa","Son","Mon","Die","Mit","Don","Fre","Sam"],time:{days:"TAGE",hours:"UHR",minutes:"MIN",seconds:"SEK"}},buttons:{ok:"OK",cancel:"Abbrechen",done:"Fertig",today:"Heute",now:"Jetzt",clear:"Reinigen",help:"Hilfe",yes:"Ja",no:"Nein",random:"Zufällig"}},"ru-RU":{calendar:{months:["Январь","Февраль","Март","Апрель","Май","Июнь","Июль","Август","Сентябрь","Октябрь","Ноябрь","Декабрь","Янв","Фев","Мар","Апр","Май","Июн","Июл","Авг","Сен","Окт","Ноя","Дек"],days:["Воскресенье","Понедельник","Вторник","Среда","Четверг","Пятница","Суббота","Вс","Пн","Вт","Ср","Чт","Пт","Сб","Вос","Пон","Вто","Сре","Чет","Пят","Суб"],time:{days:"ДНИ",hours:"ЧАСЫ",minutes:"МИН",seconds:"СЕК"}},buttons:{ok:"ОК",cancel:"Отмена",done:"Готово",today:"Сегодня",now:"Сейчас",clear:"Очистить",help:"Помощь",yes:"Да",no:"Нет",random:"Случайно"}},"uk-UA":{calendar:{months:["Січень","Лютий","Березень","Квітень","Травень","Червень","Липень","Серпень","Вересень","Жовтень","Листопад","Грудень","Січ","Лют","Бер","Кві","Тра","Чер","Лип","Сер","Вер","Жов","Лис","Гру"],days:["Неділя","Понеділок","Вівторок","Середа","Четвер","П’ятниця","Субота","Нд","Пн","Вт","Ср","Чт","Пт","Сб","Нед","Пон","Вiв","Сер","Чет","Пят","Суб"],time:{days:"ДНІ",hours:"ГОД",minutes:"ХВИЛ",seconds:"СЕК"}},buttons:{ok:"ОК",cancel:"Відміна",done:"Готово",today:"Сьогодні",now:"Зараз",clear:"Очистити",help:"Допомога",yes:"Так",no:"Ні",random:"Випадково"}}};y.locales=x;var O,_,M=0,D=["wheel","mousewheel","DOMMouseScroll","MozMousePixelScroll"],S="onwheel"in document||document.documentMode>=9?["wheel"]:["mousewheel","DomMouseScroll","MozMousePixelScroll"],k=Array.prototype.slice;if(b.event.fixHooks)for(var I=D.length;I;)b.event.fixHooks[D[--I]]=b.event.mouseHooks;b.event.special.mousewheel={version:"3.1.12",setup:function(){if(this.addEventListener)for(var t=S.length;t;)this.addEventListener(S[--t],g,!1);else this.onmousewheel=g;b.data(this,"mousewheel-line-height",b.event.special.mousewheel.getLineHeight(this)),b.data(this,"mousewheel-page-height",b.event.special.mousewheel.getPageHeight(this))},teardown:function(){if(this.removeEventListener)for(var t=S.length;t;)this.removeEventListener(S[--t],g,!1);else this.onmousewheel=null;b.removeData(this,"mousewheel-line-height"),b.removeData(this,"mousewheel-page-height")},getLineHeight:function(t){var e=b(t),n=e["offsetParent"in b.fn?"offsetParent":"parent"]();return n.length||(n=b("body")),parseInt(n.css("fontSize"),10)||parseInt(e.css("fontSize"),10)||16},getPageHeight:function(t){return b(t).height()},settings:{adjustOldDeltas:!0,normalizeOffset:!0}},b.fn.extend({mousewheel:function(t){return t?this.bind("mousewheel",t):this.trigger("mousewheel")},unmousewheel:function(t){return this.unbind("mousewheel",t)}});var E=t.event.special,A="D"+ +new Date,N="D"+(+new Date+1);E.scrollstart={setup:function(){var e,n=function(n){var i=this,a=arguments;e?clearTimeout(e):(n.type="scrollstart",t.event.dispatch.apply(i,a)),e=setTimeout(function(){e=null},E.scrollstop.latency)};t(this).bind("scroll",n).data(A,n)},teardown:function(){t(this).unbind("scroll",t(this).data(A))}},E.scrollstop={latency:300,setup:function(){var e,n=function(n){var i=this,a=arguments;e&&clearTimeout(e),e=setTimeout(function(){e=null,n.type="scrollstop",t.event.dispatch.apply(i,a)},E.scrollstop.latency)};t(this).bind("scroll",n).data(N,n)},teardown:function(){t(this).unbind("scroll",t(this).data(N))}};var F={key:"METRO:APP",init:function(t,e){return this.options=b.extend({},this.options,t),this},nvl:function(t,e){return void 0===t||null===t?e:t},setKey:function(t){this.key=t},getKey:function(){return this.key},setItem:function(t,e){window.localStorage.setItem(this.key+":"+t,JSON.stringify(e))},getItem:function(t,e,n){var i,a;a=this.nvl(window.localStorage.getItem(this.key+":"+t),e);try{i=JSON.parse(a,n)}catch(t){i=null}return i},getItemPart:function(t,e,n,i){var a,s=this.getItem(t,n,i);for(e=e.split("->"),a=0;a<e.length;a++)s=s[e[a]];return s},delItem:function(t){window.localStorage.removeItem(this.key+":"+t)},size:function(t){var e;switch(t){case"m":case"M":e=1048576;break;case"k":case"K":e=1024;break;default:e=1}return JSON.stringify(window.localStorage).length/e}};b.Metro.storage=F.init();b.Metro.template=function(t,e){for(var n,i,a=/<%(.+?)%>/g,s=/(^( )?(var|if|for|else|switch|case|break|{|}|;))(.*)?/g,o="with(obj) { var r=[];\n",r=0,l=function(t,e){return o+=e?t.match(s)?t+"\n":"r.push("+t+");\n":""!==t?'r.push("'+t.replace(/"/g,'\\"')+'");\n':"",l};i=a.exec(t);)l(t.slice(r,i.index))(i[1],!0),r=i.index+i[0].length;l(t.substr(r,t.length-r)),o=(o+'return r.join(""); }').replace(/[\r\t\n]/g," ");try{n=new Function("obj",o).apply(e,[e])}catch(t){console.error("'"+t.message+"'"," in \n\nCode:\n",o,"\n")}return n};var z={isUrl:function(t){return/^(ftp|http|https):\/\/(\w+:{0,1}\w*@)?(\S+)(:[0-9]+)?(\/|\/([\w#!:.?+=&%@\-\/]))?/.test(t)},isTag:function(t){return/<\/?[\w\s="/.':;#-\/\?]+>/gi.test(t)},isColor:function(t){return/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(t)},isEmbedObject:function(t){var e=["iframe","object","embed","video"],n=!1;return b.each(e,function(){-1!==t.indexOf(this)&&(n=!0)}),n},isVideoUrl:function(t){return/youtu\.be|youtube|vimeo/gi.test(t)},embedObject:function(t){return"<div class='embed-container'>"+t+"</div>"},embedUrl:function(t){return-1!==t.indexOf("youtu.be")&&(t="https://www.youtube.com/embed/"+t.split("/").pop()),"<div class='embed-container'><iframe src='"+t+"'></iframe></div>"},secondsToTime:function(t){var e=t%3600,n=e%60;return{h:Math.floor(t/3600),m:Math.floor(e/60),s:Math.ceil(n)}},hex2rgba:function(t,e){var n;if(e=isNaN(e)?1:e,/^#([A-Fa-f0-9]{3}){1,2}$/.test(t))return 3===(n=t.substring(1).split("")).length&&(n=[n[0],n[0],n[1],n[1],n[2],n[2]]),n="0x"+n.join(""),"rgba("+[n>>16&255,n>>8&255,255&n].join(",")+","+e+")";throw new Error("Hex2rgba error. Bad Hex value")},random:function(t,e){return Math.floor(Math.random()*(e-t+1)+t)},isInt:function(t){return Number(t)===t&&t%1==0},isFloat:function(t){return Number(t)===t&&t%1!=0},uniqueId:function(){var t=(new Date).getTime();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var n=(t+16*Math.random())%16|0;return t=Math.floor(t/16),("x"===e?n:3&n|8).toString(16)})},isTouchDevice:function(){return"ontouchstart"in window||navigator.MaxTouchPoints>0||navigator.msMaxTouchPoints>0},secondsToFormattedString:function(t){var e,n,i;return e=parseInt(t/3600)%24,n=parseInt(t/60)%60,i=t%60,(e?e+":":"")+(n<10?"0"+n:n)+":"+(i<10?"0"+i:i)},callback:function(t,e,n){return this.exec(t,e,n)},exec:function(t,e,n){if(void 0===t||null===t)return!1;var i=this.isFunc(t);return!1===i&&(i=new Function("a",t)),i.apply(n,e)},isFunc:function(t){return this.isType(t,"function")},isObject:function(t){return this.isType(t,"object")},isType:function(t,e){if(void 0===t||null===t)return!1;if(this.isTag(t)||this.isUrl(t))return!1;if(typeof t===e)return t;if(typeof window[t]===e)return window[t];if("string"==typeof t&&-1===t.indexOf("."))return!1;var n,i=t.split("."),a=window;for(n=0;n<i.length;n++)a=a[i[n]];return typeof a===e&&a},isMetroObject:function(t,e){var n=b(t),i=n.data(e);return 0===n.length?(console.log(e+" "+t+" not found!"),!1):void 0!==i||(console.log("Element not contain role "+e+'! Please add attribute data-role="'+e+'" to element '+t),!1)},isJQueryObject:function(e){return"function"==typeof t&&e instanceof t},elementInViewport:function(t){this.isJQueryObject(t)&&(t=t[0]);var e=t.getBoundingClientRect();return e.top>=0&&e.left>=0&&e.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&e.right<=(window.innerWidth||document.documentElement.clientWidth)},objectLength:function(t){return Object.keys(t).length},percent:function(t,e,n){if(0===t)return 0;var i=100*e/t;return n?Math.round(i):Math.round(100*i)/100},camelCase:function(t){return t.replace(/-([a-z])/g,function(t){return t[1].toUpperCase()})},objectShift:function(t){var e=0;return b.each(t,function(t){0===e?e=t:e>t&&(e=t)}),delete t[e],t},objectDelete:function(t,e){return void 0!==t[e]?t:delete t[e]},arrayDelete:function(t,e){return t.indexOf(e)>-1?t.splice(t.indexOf(e),1):t},nvl:function(t,e){return void 0===t||null===t?e:t},github:function(t,e){var n=this;b.ajax({url:"https://api.github.com/repos/"+t,dataType:"jsonp"}).done(function(t){n.callback(e,t.data)})},detectIE:function(){var t=window.navigator.userAgent,e=t.indexOf("MSIE ");if(e>0)return parseInt(t.substring(e+5,t.indexOf(".",e)),10);if(t.indexOf("Trident/")>0){var n=t.indexOf("rv:");return parseInt(t.substring(n+3,t.indexOf(".",n)),10)}var i=t.indexOf("Edge/");return i>0&&parseInt(t.substring(i+5,t.indexOf(".",i)),10)},detectChrome:function(){return/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor)},md5:function(t){return e(t)},encodeURI:function(t){return encodeURI(t).replace(/%5B/g,"[").replace(/%5D/g,"]")},pageHeight:function(){var t=document.body,e=document.documentElement;return Math.max(t.scrollHeight,t.offsetHeight,e.clientHeight,e.scrollHeight,e.offsetHeight)},cleanPreCode:function(t){Array.prototype.slice.call(document.querySelectorAll(t),0).forEach(function(t,e,n){var i=t.textContent.replace(/^[\r\n]+/,"").replace(/\s+$/g,"");if(/^\S/gm.test(i))t.textContent=i;else{for(var a,s,o,r=/^[\t ]+/gm,l=1e3;a=r.exec(i);)(o=a[0].length)<l&&(l=o,s=a[0]);1e3!==l&&(t.textContent=i.replace(new RegExp("^"+s,"gm"),""))}})},coords:function(t){this.isJQueryObject(t)&&(t=t[0]);var e=t.getBoundingClientRect();return{top:e.top+window.pageYOffset,left:e.left+window.pageXOffset}},positionXY:function(t,e){switch(e){case"client":return this.clientXY(t);case"screen":return this.screenXY(t);case"page":return this.pageXY(t);default:return{left:o,top:0}}},clientXY:function(t){return{x:this.isTouchDevice()?t.changedTouches[0].clientX:t.clientX,y:this.isTouchDevice()?t.changedTouches[0].clientY:t.clientY}},screenXY:function(t){return{x:this.isTouchDevice()?t.changedTouches[0].screenX:t.screenX,y:this.isTouchDevice()?t.changedTouches[0].screenY:t.screenY}},pageXY:function(t){return{x:this.isTouchDevice()?t.changedTouches[0].pageX:t.pageX,y:this.isTouchDevice()?t.changedTouches[0].pageY:t.pageY}},hiddenElementSize:function(t,e){var n=b(t).clone();n.removeAttr("data-role").css({visibility:"hidden",position:"absolute",display:"block"}),b("body").append(n);var i=!0===e?n.innerWidth():n.outerWidth(),a=!0===e?n.innerHeight():n.outerHeight();return n.remove(),{width:i,height:a}},placeElement:function(t,e){var n=z.hiddenElementSize(t),i=b(window).width(),a=b(window).height();return"center"===e||"center-center"===e?{left:(i-n.width)/2,top:(a-n.height)/2,right:"auto",bottom:"auto"}:"top-left"===e?{left:0,top:0,right:"auto",bottom:"auto"}:"top-right"===e?{right:0,top:0,left:"auto",bottom:"auto"}:"top-center"===e?{left:(i-n.width)/2,top:0,right:"auto",bottom:"auto"}:"bottom-right"===e?{right:0,bottom:0,top:"auto",left:"auto"}:"bottom-left"===e?{left:0,bottom:0,top:"auto",right:"auto"}:"bottom-center"===e?{left:(i-n.width)/2,bottom:0,top:"auto",right:"auto"}:"left-center"===e?{top:(a-n.height)/2,left:0,right:"auto",bottom:"auto"}:"right-center"===e?{top:(a-n.height)/2,right:0,left:"auto",bottom:"auto"}:{top:"auto",right:"auto",left:"auto",bottom:"auto"}},getStyle:function(t,e){return!0===z.isJQueryObject(t)&&(t=t[0]),window.getComputedStyle(t,e)},getStyleOne:function(t,e){return this.getStyle(t).getPropertyValue(e)},computedRgbToHex:function(t){var e=t.replace(/[^\d,]/g,"").split(","),n="#";return b.each(e,function(){var t=parseInt(this).toString(16);n+=1===t.length?"0"+t:t}),n},updateURIParameter:function(t,e,n){var i=new RegExp("([?&])"+e+"=.*?(&|$)","i"),a=-1!==t.indexOf("?")?"&":"?";return t.match(i)?t.replace(i,"$1"+e+"="+n+"$2"):t+a+e+"="+n},getURIParameter:function(t,e){t||(t=window.location.href),e=e.replace(/[\[\]]/g,"\\$&");var n=new RegExp("[?&]"+e+"(=([^&#]*)|&|#|$)").exec(t);return n?n[2]?decodeURIComponent(n[2].replace(/\+/g," ")):"":null},isDate:function(t){return"Invalid Date"!==new Date(t)&&!isNaN(new Date(t))},dateToString:function(t){var e=t.getFullYear(),n=t.getMonth()+1,i=t.getDate();return(n<10?"0"+n:n)+"/"+(i<10?"0"+i:i)+"/"+e}};b.Metro.utils=y.utils=z;var R={init:function(t,e){return this.options=b.extend({},this.options,t),this.elem=e,this.element=b(e),this._setOptionsFromDOM(),this._create(),z.exec(this.options.onAccordionCreate,[this.element]),this},options:{duration:METRO_ANIMATION_DURATION,oneFrame:!0,showActive:!0,activeFrameClass:"",activeHeadingClass:"",activeContentClass:"",onFrameOpen:y.noop,onFrameBeforeOpen:y.noop_true,onFrameClose:y.noop,onFrameBeforeClose:y.noop_true,onAccordionCreate:y.noop},_setOptionsFromDOM:function(){var t=this.element,e=this.options;b.each(t.data(),function(t,n){if(t in e)try{e[t]=b.parseJSON(n)}catch(i){e[t]=n}})},_create:function(){var t,e=this,n=this.element,i=this.options,a=n.children(".frame"),s=n.children(".frame.active");t=0===s.length?a[0]:s[0],this._hideAll(),!0!==i.showActive&&!0!==i.oneFrame||this._openFrame(t),n.on("click",".heading",function(){var t=b(this),a=t.parent();if(t.closest(".accordion")[0]!==n[0])return!1;a.hasClass("active")?1===s.length&&i.oneFrame||e._closeFrame(a):e._openFrame(a),n.trigger("open",{frame:a})})},_openFrame:function(t){var e=this.element,n=this.options,i=(e.children(".frame"),b(t));if(!1===z.exec(n.onFrameBeforeOpen,i[0]))return!1;!0===n.oneFrame&&this._closeAll(),i.addClass("active "+n.activeFrameClass),i.children(".heading").addClass(n.activeHeadingClass),i.children(".content").addClass(n.activeContentClass).slideDown(n.duration),z.callback(n.onFrameOpen,i[0])},_closeFrame:function(t){this.element;var e=this.options,n=b(t);!1!==z.exec(e.onFrameBeforeOpen,n[0])&&(n.removeClass("active "+e.activeFrameClass),n.children(".heading").removeClass(e.activeHeadingClass),n.children(".content").removeClass(e.activeContentClass).slideUp(e.duration),z.callback(e.onFrameClose,n[0]))},_closeAll:function(){var t=this,e=this.element,n=(this.options,e.children(".frame"));b.each(n,function(){t._closeFrame(this)})},_hideAll:function(){var t=this.element,e=(this.options,t.children(".frame"));b.each(e,function(){b(this).children(".content").hide(0)})},_openAll:function(){var t=this,e=this.element,n=(this.options,e.children(".frame"));b.each(n,function(){t._openFrame(this)})},changeAttribute:function(t){}};y.plugin("accordion",R);var H={init:function(t,e){return this.options=b.extend({},this.options,t),this.elem=e,this.element=b(e),this._setOptionsFromDOM(),this._create(),z.exec(this.options.onActivityCreate,[this.element]),this},options:{type:"ring",style:"light",size:64,radius:20,onActivityCreate:y.noop},_setOptionsFromDOM:function(){var t=this.element,e=this.options;b.each(t.data(),function(t,n){if(t in e)try{e[t]=b.parseJSON(n)}catch(i){e[t]=n}})},_create:function(){var t,e,n=this.element,i=this.options;switch(n.html("").addClass(i.style+"-style").addClass("activity-"+i.type),i.type){case"metro":!function(){for(t=0;t<5;t++)b("<div/>").addClass("circle").appendTo(n)}();break;case"square":!function(){for(t=0;t<4;t++)b("<div/>").addClass("square").appendTo(n)}();break;case"cycle":b("<div/>").addClass("cycle").appendTo(n);break;case"simple":b('<svg class="circular"><circle class="path" cx="'+i.size/2+'" cy="'+i.size/2+'" r="'+i.radius+'" fill="none" stroke-width="2" stroke-miterlimit="10"/></svg>').appendTo(n);break;default:!function(){for(t=0;t<5;t++)e=b("<div/>").addClass("wrap").appendTo(n),b("<div/>").addClass("circle").appendTo(e)}()}},changeAttribute:function(t){}};y.plugin("activity",H);var B={init:function(t,e){return this.options=b.extend({},this.options,t),this.elem=e,this.element=b(e),this.today=new Date,this.today.setHours(0,0,0,0),this.show=new Date,this.show.setHours(0,0,0,0),this.current={year:this.show.getFullYear(),month:this.show.getMonth(),day:this.show.getDate()},this.preset=[],this.selected=[],this.exclude=[],this.min=null,this.max=null,this.locale=null,this._setOptionsFromDOM(),this._create(),this},options:{show:null,locale:METRO_LOCALE,weekStart:0,outside:!0,buttons:"cancel, today, clear, done",clsCalendar:"",clsCalendarHeader:"",clsCalendarContent:"",clsCalendarFooter:"",clsCalendarMonths:"",clsCalendarYears:"",clsToday:"",clsSelected:"",clsExcluded:"",clsCancelButton:"",clsTodayButton:"",clsClearButton:"",clsDoneButton:"",isDialog:!1,ripple:!1,rippleColor:"#cccccc",exclude:null,preset:null,minDate:null,maxDate:null,weekDayClick:!1,multiSelect:!1,onCancel:y.noop,onToday:y.noop,onClear:y.noop,onDone:y.noop,onDayClick:y.noop,onWeekDayClick:y.noop,onMonthChange:y.noop,onYearChange:y.noop,onCalendarCreate:y.noop},_setOptionsFromDOM:function(){var t=this.element,e=this.options;b.each(t.data(),function(t,n){if(t in e)try{e[t]=b.parseJSON(n)}catch(i){e[t]=n}})},_create:function(){var t=this,e=this.element,n=this.options;e.html("").addClass("calendar").addClass(n.clsCalendar),null!==n.preset&&(!1===Array.isArray(n.preset)&&(n.preset=n.preset.split(",").map(function(t){return t.trim()})),b.each(n.preset,function(){!1!==z.isDate(this)&&t.selected.push(new Date(this).getTime())})),null!==n.exclude&&(!1===Array.isArray(n.exclude)&&(n.exclude=n.exclude.split(",").map(function(t){return t.trim()})),b.each(n.exclude,function(){!1!==z.isDate(this)&&t.exclude.push(new Date(this).getTime())})),!1!==n.buttons&&!1===Array.isArray(n.buttons)&&(n.buttons=n.buttons.split(",").map(function(t){return t.trim()})),null!==n.minDate&&z.isDate(n.minDate)&&(this.min=new Date(n.minDate),this.min.setHours(0,0,0,0)),null!==n.maxDate&&z.isDate(n.maxDate)&&(this.max=new Date(n.maxDate),this.max.setHours(0,0,0,0)),null!==n.show&&z.isDate(n.show)&&(this.show=new Date(n.show),this.show.setHours(0,0,0,0),this.current={year:this.show.getFullYear(),month:this.show.getMonth(),day:this.show.getDate()}),this.locale=void 0!==y.locales[n.locale]?y.locales[n.locale]:y.locales["en-US"],this._build()},_build:function(){this._drawCalendar(),this._bindEvents(),!0===this.options.ripple&&element.ripple({rippleTarget:".button, .prev-month, .next-month, .prev-year, .next-year, .day",rippleColor:o.rippleColor}),z.exec(this.options.onCalendarCreate,[this.element])},_bindEvents:function(){var t=this,e=this.element,n=this.options;e.on("click",".prev-month, .next-month, .prev-year, .next-year",function(){var i,a=b(this);a.hasClass("prev-month")&&(i=new Date(t.current.year,t.current.month-1,1)),a.hasClass("next-month")&&(i=new Date(t.current.year,t.current.month+1,1)),a.hasClass("prev-year")&&(i=new Date(t.current.year-1,t.current.month,1)),a.hasClass("next-year")&&(i=new Date(t.current.year+1,t.current.month,1)),t.current={year:i.getFullYear(),month:i.getMonth(),day:i.getDate()},setTimeout(function(){t._drawContent(),(a.hasClass("prev-month")||a.hasClass("next-month"))&&z.exec(n.onMonthChange,[t.current,e]),(a.hasClass("prev-year")||a.hasClass("next-year"))&&z.exec(n.onYearChange,[t.current,e])},n.ripple?300:0)}),e.on("click",".button.today",function(){t.today=new Date,t.current={year:t.today.getFullYear(),month:t.today.getMonth(),day:t.today.getDate()},t._drawHeader(),t._drawContent(),z.exec(n.onToday,[t.today,e])}),e.on("click",".button.clear",function(){t.selected=[],t._drawContent(),z.exec(n.onClear,[e])}),e.on("click",".button.cancel",function(){t._drawContent(),z.exec(n.onCancel,[e])}),e.on("click",".button.done",function(){t._drawContent(),z.exec(n.onDone,[t.selected,e])}),e.on("click",".week-days .day",function(){if(!1!==n.weekDayClick&&!1!==n.multiSelect){var i=b(this),a=i.index(),s=!0===n.outside?e.find(".days-row .day:nth-child("+(a+1)+")"):e.find(".days-row .day:not(.outside):nth-child("+(a+1)+")");b.each(s,function(){var e=b(this),i=e.data("day");z.arrayDelete(t.selected,i),t.selected.push(i),e.addClass("selected").addClass(n.clsSelected)}),z.exec(n.onWeekDayClick,[t.selected,i,e])}}),e.on("click",".days-row .day",function(){var i,a,s=b(this);if(a=s.data("day"),i=t.selected.indexOf(a),s.hasClass("outside"))return a=new Date(a),t.current={year:a.getFullYear(),month:a.getMonth(),day:a.getDate()},void t._drawContent();-1===i?(!1===n.multiSelect&&(e.find(".days-row .day").removeClass("selected").removeClass(n.clsSelected),t.selected=[]),t.selected.push(a),s.addClass("selected").addClass(n.clsSelected)):(s.removeClass("selected").removeClass(n.clsSelected),z.arrayDelete(t.selected,a)),z.exec(n.onDayClick,[t.selected,s,e])}),e.on("click",".curr-month",function(t){e.find(".calendar-months").addClass("open"),t.preventDefault(),t.stopPropagation()}),e.on("click",".calendar-months li",function(){t.current.month=b(this).index(),t._drawContent(),z.exec(n.onMonthChange,[t.current,e])}),e.on("click",".curr-year",function(t){e.find(".calendar-years").addClass("open"),t.preventDefault(),t.stopPropagation()}),e.on("click",".calendar-years li",function(){t.current.year=b(this).text(),t._drawContent(),z.exec(n.onYearChange,[t.current,e])}),e.on("click",function(){var t=e.find(".calendar-months"),n=e.find(".calendar-years");t.hasClass("open")&&t.removeClass("open"),n.hasClass("open")&&n.removeClass("open")})},_drawHeader:function(){var t=this.element,e=this.options,n=this.locale.calendar,i=t.find(".calendar-header");0===i.length&&(i=b("<div>").addClass("calendar-header").addClass(e.clsCalendarHeader).appendTo(t)),i.html(""),b("<div>").addClass("header-year").html(this.today.getFullYear()).appendTo(i),b("<div>").addClass("header-day").html(n.days[this.today.getDay()]+", "+n.months[this.today.getMonth()+12]+" "+this.today.getDate()).appendTo(i)},_drawFooter:function(){var t=this.element,e=this.options,n=this.locale.buttons,i=t.find(".calendar-footer");!1!==e.buttons&&(0===i.length&&(i=b("<div>").addClass("calendar-footer").addClass(e.clsCalendarFooter).appendTo(t)),i.html(""),b.each(e.buttons,function(){var t=b("<button>").addClass("button "+this+" "+e["cls"+this.capitalize()+"Button"]).html(n[this]).appendTo(i);"cancel"!==this&&"done"!==this||t.addClass("js-dialog-close")}))},_drawMonths:function(){var t,e=this.element,n=this.options,i=b("<div>").addClass("calendar-months").addClass(n.clsCalendarMonths).appendTo(e),a=b("<ul>").addClass("months-list").appendTo(i),s=this.locale.calendar;for(t=0;t<12;t++)b("<li>").html(s.months[t]).appendTo(a)},_drawYears:function(){var t,e=this.element,n=this.options,i=b("<div>").addClass("calendar-years").addClass(n.clsCalendarYears).appendTo(e),a=b("<ul>").addClass("years-list").appendTo(i);for(t=this.current.year-100;t<this.current.year+100;t++)b("<li>").html(t).appendTo(a)},_drawContent:function(){var t,e,n,i,a,s,o,r,l=this.element,d=this.options,c=l.find(".calendar-content"),h=this.locale.calendar,u=0,p=new Date(this.current.year,this.current.month,1),f=new Date(this.current.year,this.current.month,0).getDate();0===c.length&&(c=b("<div>").addClass("calendar-content").addClass(d.clsCalendarContent).appendTo(l)),c.html(""),t=b("<div>").addClass("calendar-toolbar").appendTo(c),b("<span>").addClass("prev-month").appendTo(t),b("<span>").addClass("curr-month").html(h.months[this.current.month]).appendTo(t),b("<span>").addClass("next-month").appendTo(t),b("<span>").addClass("prev-year").appendTo(t),b("<span>").addClass("curr-year").html(this.current.year).appendTo(t),b("<span>").addClass("next-year").appendTo(t);var m=b("<div>").addClass("week-days").appendTo(c);for(e=0;e<7;e++)0===d.weekStart?n=e:7===(n=e+1)&&(n=0),b("<span>").addClass("day").html(h.days[n+7]).appendTo(m);var g=b("<div>").addClass("days").appendTo(c),v=b("<div>").addClass("days-row").appendTo(g);for(s=0===d.weekStart?p.getDay():0===p.getDay()?6:p.getDay()-1,this.current.month-1<0?(r=11,o=this.current.year-1):(r=this.current.month-1,o=this.current.year),e=0;e<s;e++){var C=f-s+e+1;i=b("<div>").addClass("day outside").appendTo(v),(a=new Date(o,r,C)).setHours(0,0,0,0),i.data("day",a.getTime()),!0===d.outside&&(i.html(C),-1!==this.selected.indexOf(a.getTime())&&i.addClass("selected").addClass(d.clsSelected),-1!==this.exclude.indexOf(a.getTime())&&i.addClass("disabled excluded").addClass(d.clsExcluded),null!==this.min&&a.getTime()<this.min.getTime()&&i.addClass("disabled excluded").addClass(d.clsExcluded),null!==this.max&&a.getTime()>this.max.getTime()&&i.addClass("disabled excluded").addClass(d.clsExcluded)),u++}for(p.setHours(0,0,0,0);p.getMonth()===this.current.month;)(i=b("<div>").addClass("day").html(p.getDate()).appendTo(v)).data("day",p.getTime()),this.today.getFullYear()===p.getFullYear()&&this.today.getMonth()===p.getMonth()&&this.today.getDate()===p.getDate()&&i.addClass("today").addClass(d.clsToday),-1!==this.selected.indexOf(p.getTime())&&i.addClass("selected").addClass(d.clsSelected),-1!==this.exclude.indexOf(p.getTime())&&i.addClass("disabled excluded").addClass(d.clsExcluded),null!==this.min&&p.getTime()<this.min.getTime()&&i.addClass("disabled excluded").addClass(d.clsExcluded),null!==this.max&&p.getTime()>this.max.getTime()&&i.addClass("disabled excluded").addClass(d.clsExcluded),++u%7==0&&(v=b("<div>").addClass("days-row").appendTo(g)),p.setDate(p.getDate()+1),p.setHours(0,0,0,0);if(s=0===d.weekStart?p.getDay():0===p.getDay()?6:p.getDay()-1,this.current.month+1>11?(r=0,o=this.current.year+1):(r=this.current.month+1,o=this.current.year),s>0)for(e=0;e<7-s;e++)i=b("<div>").addClass("day outside").appendTo(v),(a=new Date(o,r,e+1)).setHours(0,0,0,0),i.data("day",a.getTime()),!0===d.outside&&(i.html(e+1),-1!==this.selected.indexOf(a.getTime())&&i.addClass("selected").addClass(d.clsSelected),-1!==this.exclude.indexOf(a.getTime())&&i.addClass("disabled excluded").addClass(d.clsExcluded),null!==this.min&&a.getTime()<this.min.getTime()&&i.addClass("disabled excluded").addClass(d.clsExcluded),null!==this.max&&a.getTime()>this.max.getTime()&&i.addClass("disabled excluded").addClass(d.clsExcluded));var w=l.find(".day:nth-child(1)").css("width");l.find(".days-row .day").css({height:w,lineHeight:w})},_drawCalendar:function(){this.element.html(""),this._drawHeader(),this._drawContent(),this._drawFooter(),this._drawMonths(),this._drawYears()},getPreset:function(){return this.preset},getSelected:function(){return this.selected},getExcluded:function(){return this.exclude},getToday:function(){return this.today},getCurrent:function(){return this.current},setExclude:function(t){var e=this,n=this.element,i=this.options;i.exclude=void 0!==t?t:n.attr("data-exclude"),null!==i.exclude&&(!1===Array.isArray(i.exclude)&&(i.exclude=i.exclude.split(",").map(function(t){return t.trim()})),b.each(i.exclude,function(){!1!==z.isDate(this)&&e.exclude.push(new Date(this).getTime())})),this._drawContent()},setPreset:function(t){var e=this,n=this.element,i=this.options;i.preset=void 0!==t?t:n.attr("data-preset"),null!==i.preset&&(e.selected=[],!1===Array.isArray(i.preset)&&(i.preset=i.preset.split(",").map(function(t){return t.trim()})),b.each(i.preset,function(){!1!==z.isDate(this)&&e.selected.push(new Date(this).getTime())})),this._drawContent()},setShow:function(t){var e=this.element,n=this.options;n.show=null!==t?t:e.attr("data-show"),null!==n.show&&z.isDate(n.show)&&(this.show=new Date(n.show),this.show.setHours(0,0,0,0),this.current={year:this.show.getFullYear(),month:this.show.getMonth(),day:this.show.getDate()}),this._drawContent()},setMinDate:function(t){var e=this.element;this.options.minDate=null!==t?t:e.attr("data-min-date"),this._drawContent()},setMaxDate:function(t){var e=this.element;this.options.maxDate=null!==t?t:e.attr("data-max-date"),this._drawContent()},changeAttribute:function(t){switch(t){case"data-exclude":this.setExclude();break;case"data-preset":this.setPreset();break;case"data-show":this.setShow();break;case"data-min-date":this.setMinDate();break;case"data-max-date":this.setMaxDate()}}};y.plugin("calendar",B);var L={init:function(t,e){return this.options=b.extend({},this.options,t),this.elem=e,this.element=b(e),this._setOptionsFromDOM(),this._create(),z.exec(this.options.onCheckboxCreate,[this.element]),this},options:{caption:"",captionPosition:"right",disabled:!1,onCheckboxCreate:y.noop},_setOptionsFromDOM:function(){var t=this.element,e=this.options;b.each(t.data(),function(t,n){if(t in e)try{e[t]=b.parseJSON(n)}catch(i){e[t]=n}})},_create:function(){var t=this.element,e=this.options,n=t.prev(),i=t.parent(),a=b("<label>").addClass("checkbox "+t[0].className),s=b("<span>").addClass("check"),o=b("<span>").addClass("caption").html(e.caption);t.appendTo(a),0===n.length?i.prepend(a):a.insertAfter(n),s.appendTo(a),"left"===e.captionPosition?o.insertBefore(s):o.insertAfter(s),t[0].className="",!0===e.disabled&&t.is(":disabled")?this.disable():this.enable()},disable:function(){this.element.data("disabled",!0),this.element.parent().addClass("disabled")},enable:function(){this.element.data("disabled",!1),this.element.parent().removeClass("disabled")},toggleState:function(){!1===this.element.data("disabled")?this.disable():this.enable()},changeAttribute:function(t){switch(t){case"disabled":this.toggleState()}}};y.plugin("checkbox",L);var P={init:function(t,e){return this.options=b.extend({},this.options,t),this.elem=e,this.element=b(e),this._clockInterval=null,this._setOptionsFromDOM(),this._create(),z.exec(this.options.onClockCreate,[this.element]),this},options:{showTime:!0,showDate:!0,timeFormat:"24",dateFormat:"american",divider:"&nbsp;&nbsp;",onClockCreate:y.noop},_setOptionsFromDOM:function(){var t=this.element,e=this.options;b.each(t.data(),function(t,n){if(t in e)try{e[t]=b.parseJSON(n)}catch(i){e[t]=n}})},_create:function(){var t=this;this._tick(),this._clockInterval=setInterval(function(){t._tick()},500)},_addLeadingZero:function(t){return t<10&&(t="0"+t),t},_tick:function(){var t=this.element,e=this.options,n=new Date,i=(n.getTime(),""),a=n.getHours(),s=n.getMinutes(),o=n.getSeconds(),r=n.getDate(),l=n.getMonth()+1,d=n.getFullYear();"12"===e.timeFormat&&(" AM",a>11&&" PM",a>12&&(a-=12),0===a&&(a=12)),a=this._addLeadingZero(a),s=this._addLeadingZero(s),o=this._addLeadingZero(o),l=this._addLeadingZero(l),r=this._addLeadingZero(r),e.showDate&&("american"===e.dateFormat?(i+="<span class='date-month'>"+l+"</span>",i+="<span class='date-divider'>-</span>",i+="<span class='date-day'>"+r+"</span>",i+="<span class='date-divider'>-</span>",i+="<span class='date-year'>"+d+"</span>"):(i+="<span class='date-day'>"+r+"</span>",i+="<span class='date-divider'>-</span>",i+="<span class='date-month'>"+l+"</span>",i+="<span class='date-divider'>-</span>",i+="<span class='date-year'>"+d+"</span>"),i+=e.divider),e.showTime&&(i+="<span class='clock-hour'>"+a+"</span>",i+="<span class='clock-divider'>:</span>",i+="<span class='clock-minute'>"+s+"</span>",i+="<span class='clock-divider'>:</span>",i+="<span class='clock-second'>"+o+"</span>"),t.html(i)},changeAttribute:function(t){}};y.plugin("clock",P);var Y={init:function(t,e){return this.options=b.extend({},this.options,t),this.elem=e,this.element=b(e),this.toggle=null,this._setOptionsFromDOM(),this._create(),z.exec(this.options.onCollapseCreate,[this.element]),this},options:{toggleElement:!1,duration:METRO_ANIMATION_DURATION,onExpand:y.noop,onCollapse:y.noop,onCollapseCreate:y.noop},_setOptionsFromDOM:function(){var t=this.element,e=this.options;b.each(t.data(),function(t,n){if(t in e)try{e[t]=b.parseJSON(n)}catch(i){e[t]=n}})},_create:function(){var t,e=this,n=this.element,i=this.options;(t=!1!==i.toggleElement?b(i.toggleElement):n.siblings(".collapse-toggle").length>0?n.siblings(".collapse-toggle"):n.siblings("a:nth-child(1)")).on("click",function(t){"block"!==n.css("display")||n.hasClass("keep-open")?e._open(n):e._close(n),t.preventDefault(),t.stopPropagation()}),this.toggle=t},_close:function(t){!1===z.isJQueryObject(t)&&(t=b(t));var e=t.data("collapse").options;t.slideUp(e.duration,function(){t.trigger("onCollapse",null,t),t.data("collapsed",!0),t.addClass("collapsed"),z.exec(e.onCollapse,[t])})},_open:function(t){!1===z.isJQueryObject(t)&&(t=b(t));var e=t.data("collapse").options;t.slideDown(e.duration,function(){t.trigger("onExpand",null,t),t.data("collapsed",!1),t.removeClass("collapsed"),z.exec(e.onExpand,[t])})},collapse:function(){this._close(this.element)},expand:function(){this._open(this.element)},isCollapsed:function(){return this.element.data("collapsed")},toggleState:function(){var t=this.element;!0===t.attr("collapsed")||!0===t.data("collapsed")?this.expand():this.collapse()},changeAttribute:function(t){switch(t){case"collapsed":case"data-collapsed":this.toggleState()}}};y.plugin("collapse",Y);var U={init:function(t,e){return this.options=b.extend({},this.options,t),this.elem=e,this.element=b(e),this.timepoint=(new Date).getTime(),this.breakpoint=null,this.blinkInterval=null,this.tickInterval=null,this.zeroDaysFired=!1,this.zeroHoursFired=!1,this.zeroMinutesFired=!1,this.zeroSecondsFired=!1,this.locale=null,this._setOptionsFromDOM(),this._create(),this},options:{locale:METRO_LOCALE,days:0,hours:0,minutes:0,seconds:0,date:null,start:!0,clsCountdown:"",clsZero:"",clsAlarm:"",clsDays:"",clsHours:"",clsMinutes:"",clsSeconds:"",onCountdownCreate:y.noop,onAlarm:y.noop,onTick:y.noop,onZero:y.noop},_setOptionsFromDOM:function(){var t=this.element,e=this.options;b.each(t.data(),function(t,n){if(t in e)try{e[t]=b.parseJSON(n)}catch(i){e[t]=n}})},_create:function(){var t=this.options;this.locale=void 0!==y.locales[t.locale]?y.locales[t.locale]:y.locales["en-US"],this._build()},_build:function(){var t,e,n,i=this,a=this.element,s=this.options,o=["days","hours","minutes","seconds"];a.addClass("countdown").addClass(s.clsCountdown),null!==s.date&&!1!==z.isDate(s.date)&&(this.timepoint=new Date(s.date).getTime()),this.breakpoint=this.timepoint,parseInt(s.days)>0&&(this.breakpoint+=864e5*parseInt(s.days)),parseInt(s.hours)>0&&(this.breakpoint+=36e5*parseInt(s.hours)),parseInt(s.minutes)>0&&(this.breakpoint+=6e4*parseInt(s.minutes)),parseInt(s.seconds)>0&&(this.breakpoint+=1e3*parseInt(s.seconds)),t=Math.round((i.breakpoint-i.timepoint)/864e5),e=Math.round((i.breakpoint-i.timepoint)/36e5),n=Math.round((i.breakpoint-i.timepoint)/6e4),b.each(o,function(){if(("days"!==this||0!==t)&&!("hours"===this&&0===t&&0===e||"minutes"===this&&0===t&&0===e&&0===n)){var o=b("<div>").addClass("part "+this).attr("data-label",i.locale.calendar.time[this]).appendTo(a);if("days"===this&&o.addClass(s.clsDays),"hours"===this&&o.addClass(s.clsHours),"minutes"===this&&o.addClass(s.clsMinutes),"seconds"===this&&o.addClass(s.clsSeconds),b("<div>").addClass("digit").appendTo(o),b("<div>").addClass("digit").appendTo(o),"days"===this&&t>=100)for(var r=0;r<String(t/100).length;r++)b("<div>").addClass("digit").appendTo(o)}}),a.find(".digit").html("0"),z.exec(this.options.onCountdownCreate,[this.element]),!0===this.options.start&&this.start()},blink:function(){this.element.toggleClass("blink")},tick:function(){var t,e,n,i,a,s=this.element,o=this.options,r=(new Date).getTime();if((t=Math.floor((this.breakpoint-r)/1e3))<=0)return this.stop(),""!==o.clsZero&&s.find(".part").removeClass(o.clsZero),s.addClass(o.clsAlarm),void z.exec(o.onAlarm,[r,s]);t-=86400*(e=Math.floor(t/86400)),this.draw("days",e),0===e&&(""!==o.clsDays&&s.find(".days").removeClass(o.clsDays),!1===this.zeroDaysFired&&(this.zeroDaysFired=!0,s.find(".days").addClass(o.clsZero),z.exec(o.onZero,["days",s]))),t-=3600*(n=Math.floor(t/3600)),this.draw("hours",n),0===e&&0===n&&(""!==o.clsHours&&s.find(".hours").removeClass(o.clsHours),!1===this.zeroHoursFired&&(this.zeroHoursFired=!0,s.find(".hours").addClass(o.clsZero),z.exec(o.onZero,["hours",s]))),t-=60*(i=Math.floor(t/60)),this.draw("minutes",i),0===e&&0===n&&0===i&&(""!==o.clsMinutes&&s.find(".minutes").removeClass(o.clsMinutes),!1===this.zeroMinutesFired&&(this.zeroMinutesFired=!0,s.find(".minutes").addClass(o.clsZero),z.exec(o.onZero,["minutes",s]))),a=Math.floor(t/1),this.draw("seconds",a),0===e&&0===n&&0===i&&0===a&&(""!==o.clsSeconds&&s.find(".seconds").removeClass(o.clsSeconds),!1===this.zeroSecondsFired&&(this.zeroSecondsFired=!0,s.find(".seconds").addClass(o.clsZero),z.exec(o.onZero,["seconds",s]))),z.exec(o.onTick,[{days:e,hours:n,minutes:i,seconds:a},s])},draw:function(t,e){for(var n,i=this.element,a=(this.options,String(e).length),s=i.find("."+t+" .digit").html("0").length,o=0;o<a;o++)n=Math.floor(e/Math.pow(10,o))%10,i.find("."+t+" .digit:eq("+(s-1)+")").html(n),s--},start:function(){var t=this;this.element.data("paused",!1),this.tick(),this.blinkInterval=setInterval(function(){t.blink()},500),this.tickInterval=setInterval(function(){t.tick()},1e3)},stop:function(){var t=this.element;this.options;t.find(".digit").html("0"),clearInterval(this.blinkInterval),clearInterval(this.tickInterval)},pause:function(){this.element.data("paused",!0),clearInterval(this.blinkInterval),clearInterval(this.tickInterval)},togglePlay:function(){!0===this.element.attr("data-pause")?this.pause():this.start()},isPaused:function(){return this.element.data("paused")},getTimepoint:function(t){return!0===t?new Date(this.timepoint):this.timepoint},getBreakpoint:function(t){return!0===t?new Date(this.breakpoint):this.breakpoint},getLeft:function(){var t=(new Date).getTime(),e=Math.floor(this.breakpoint-t);return{days:Math.round(e/864e5),hours:Math.round(e/36e5),minutes:Math.round(e/6e4),seconds:Math.round(e/1e3)}},changeAttribute:function(t){switch(t){case"data-pause":this.togglePlay()}}};y.plugin("countdown",U);var J={init:function(t,e){return this.options=b.extend({},this.options,t),this.elem=e,this.element=b(e),this.interval=null,this.overlay=null,this._setOptionsFromDOM(),this._create(),this},options:{locale:METRO_LOCALE,title:"",content:"",actions:{},actionsAlign:"right",defaultAction:!0,overlay:!0,overlayColor:"#000000",overlayAlpha:.5,overlayClickClose:!1,width:"480",height:"auto",closeAction:!0,clsDialog:"",clsTitle:"",clsContent:"",clsAction:"",clsDefaultAction:"",autoHide:0,removeOnClose:!1,show:!1,onShow:y.noop,onHide:y.noop,onOpen:y.noop,onClose:y.noop,onDialogCreate:y.noop},_setOptionsFromDOM:function(){var t=this.element,e=this.options;b.each(t.data(),function(t,n){if(t in e)try{e[t]=b.parseJSON(n)}catch(i){e[t]=n}})},_create:function(){var t=this.options;this.locale=void 0!==y.locales[t.locale]?y.locales[t.locale]:y.locales["en-US"],this._build()},_build:function(){var t,e=this,n=this.element,i=this.options,a=b("body");if(n.addClass("dialog"),void 0===n.attr("id")&&n.attr("id",z.uniqueId()),""!==i.title&&this.setTitle(i.title),""!==i.content&&this.setContent(i.content),!0===i.defaultAction||!1!==i.actions&&"object"==typeof i.actions&&z.objectLength(i.actions)>0){var s,o=n.find(".dialog-actions");0===o.length&&(o=b("<div>").addClass("dialog-actions").addClass("text-"+i.actionsAlign).appendTo(n)),!0===i.defaultAction&&0===z.objectLength(i.actions)&&0===n.find(".dialog-actions > *").length&&(s=b("<button>").addClass("button js-dialog-close").addClass(i.clsDefaultAction).html(this.locale.buttons.ok)).appendTo(o),b.each(i.actions,function(){var t=this;s=b("<button>").addClass("button").addClass(t.cls).html(t.caption),void 0!==t.onclick&&s.on("click",function(){z.exec(t.onclick,[n])}),s.appendTo(o)})}!0===i.overlay&&(t=this._overlay(),this.overlay=t),!0===i.closeAction&&n.on("click",".js-dialog-close",function(){e.close()}),n.css({width:i.width,height:i.height,visibility:"hidden",top:"100%",left:z.placeElement(n,"center").left}),n.addClass(i.clsDialog),n.find(".dialog-title").addClass(i.clsTitle),n.find(".dialog-content").addClass(i.clsContent),n.find(".dialog-actions").addClass(i.clsAction),n.appendTo(a),i.show&&this.open(),z.exec(this.options.onDialogCreate,[this.element])},_overlay:function(){this.element;var t=this.options,e=b("<div>");return e.addClass("overlay"),"transparent"===t.overlayColor?e.addClass("transparent"):e.css({background:z.hex2rgba(t.overlayColor,t.overlayAlpha)}),e},hide:function(t){var e=this.element,n=this.options,i=0;n.onHide!==y.noop&&(i=300,z.exec(n.onHide,[e])),setTimeout(function(){e.css({visibility:"hidden"}),z.callback(t)},i)},show:function(t){var e=this.element,n=this.options;this.setPosition(),e.css({visibility:"visible"}),z.callback(t),z.exec(n.onShow,[e])},setPosition:function(){var t=this.element;t.css(z.placeElement(t,"center"))},setContent:function(t){var e=this.element,n=(this.options,e.find(".dialog-content"));0===n.length&&(n=b("<div>").addClass("dialog-content")).appendTo(e),!z.isJQueryObject(t)&&z.isFunc(t)&&(t=z.exec(t)),z.isJQueryObject(t)?t.appendTo(n):n.html(t)},setTitle:function(t){var e=this.element,n=(this.options,e.find(".dialog-title"));0===n.length&&(n=b("<div>").addClass("dialog-title")).appendTo(e),n.html(t)},close:function(){var t=this.element,e=this.options;b("body").find(".overlay").remove(),this.hide(function(){t.data("open",!1),z.exec(e.onClose,[t])})},open:function(){var t=this,e=this.element,n=this.options;!0===n.overlay&&(this.overlay.appendTo(b("body")),!0===n.overlayClickClose&&this.overlay.on("click",function(){t.close()})),this.show(function(){z.exec(n.onOpen,[e]),e.data("open",!0),parseInt(n.autoHide)>0&&setTimeout(function(){t.close()},parseInt(n.autoHide))})},toggle:function(){this.element.data("open")?this.close():this.open()},isOpen:function(){return!0===this.element.data("open")},changeAttribute:function(t){}};y.plugin("dialog",J),y.dialog={isDialog:function(t){return z.isMetroObject(t,"dialog")},open:function(t,e,n){if(!this.isDialog(t))return!1;var i=b(t).data("dialog");void 0!==n&&i.setTitle(n),void 0!==e&&i.setContent(e),i.open()},close:function(t){if(!this.isDialog(t))return!1;b(t).data("dialog").close()},toggle:function(t){if(!this.isDialog(t))return!1;b(t).data("dialog").toggle()},isOpen:function(){return!!this.isDialog(el)&&b(el).data("dialog").isOpen()},remove:function(t){if(!this.isDialog(t))return!1;var e=b(t).data("dialog");e.options.removeOnClose=!0,e.close()},create:function(t){var e;e=b("<div>").appendTo(b("body"));var n=b.extend({},{show:!0,closeAction:!0,removeOnClose:!0},void 0!==t?t:{});return e.dialog(n)}};var j={init:function(t,e){return this.options=b.extend({},this.options,t),this.elem=e,this.element=b(e),this.drag=!1,this.move=!1,this.backup={cursor:"default",zIndex:"0"},this._setOptionsFromDOM(),this._create(),z.exec(this.options.onDraggableCreate,[this.element]),this},options:{dragElement:"self",dragArea:"parent",onCanDrag:y.noop_true,onDragStart:y.noop,onDragStop:y.noop,onDragMove:y.noop,onDraggableCreate:y.noop},_setOptionsFromDOM:function(){var t=this.element,e=this.options;b.each(t.data(),function(t,n){if(t in e)try{e[t]=b.parseJSON(n)}catch(i){e[t]=n}})},_create:function(){var t,e,n,i=this,a=this.element,s=this.options,o="self"!==s.dragElement?a.find(s.dragElement):a;this.on(),o[0].ondragstart=function(){return!1},o.on(y.eventStart,function(o){if(!1!==a.data("canDrag")&&!0===z.exec(s.onCanDrag,[a])&&(!1!==w||1===o.which)){i.drag=!0,i.backup.cursor=a.css("cursor"),i.backup.zIndex=a.css("z-index"),a.addClass("draggable"),"document"!==s.dragArea&&"window"!==s.dragArea||(s.dragArea="body"),t="parent"===s.dragArea?a.parent():b(s.dragArea),e={left:t.offset().left,top:t.offset().top},n=z.pageXY(o);var r=a.outerHeight(),l=a.outerWidth(),d=a.offset().top+r-z.pageXY(o).y,c=a.offset().left+l-z.pageXY(o).x;z.exec(s.onDragStart,[a,n]),b(document).on(y.eventMove,function(o){var h,u;if(!1!==i.drag){i.move=!0,h=z.pageXY(o).x-e.left;var p=(u=z.pageXY(o).y-e.top)>0?u+d-r:0,f=h>0?h+c-l:0,m=t.innerHeight()+t.scrollTop()-a.outerHeight(),g=t.innerWidth()+t.scrollLeft()-a.outerWidth();return p>=0&&p<=m&&a.offset({top:p+e.top}),f>=0&&f<=g&&a.offset({left:f+e.left}),n={x:f,y:p},z.exec(s.onDragMove,[a,n]),!1}})}}),o.on(y.eventStop,function(t){a.css({cursor:i.backup.cursor,zIndex:i.backup.zIndex}).removeClass("draggable"),i.drag=!1,i.move=!1,n=z.pageXY(t),b(document).off(y.eventMove),z.exec(s.onDragStop,[a,n])})},off:function(){this.element.data("canDrag",!1)},on:function(){this.element.data("canDrag",!0)},changeAttribute:function(t){}};y.plugin("draggable",j);var X={init:function(t,e){return this.options=b.extend({},this.options,t),this.elem=e,this.element=b(e),this._toggle=null,this._setOptionsFromDOM(),this._create(),z.exec(this.options.onDropdownCreate,[this.element]),this},options:{effect:"slide",toggleElement:!1,noClose:!1,duration:METRO_ANIMATION_DURATION,onDrop:y.noop,onUp:y.noop,onDropdownCreate:y.noop},_setOptionsFromDOM:function(){var t=this.element,e=this.options;b.each(t.data(),function(t,n){if(t in e)try{e[t]=b.parseJSON(n)}catch(i){e[t]=n}})},_create:function(){var t,e=this,n=this.element,i=this.options,a=n.parent();(t=!1!==i.toggleElement?b(i.toggleElement):n.siblings(".dropdown-toggle").length>0?n.siblings(".dropdown-toggle"):n.siblings("a:nth-child(1)")).on("click",function(t){if(a.siblings(a[0].tagName).removeClass("active-container"),b(".active-container").removeClass("active-container"),"block"!==n.css("display")||n.hasClass("keep-open")){if(b("[data-role=dropdown]").each(function(t,i){n.parents("[data-role=dropdown]").is(i)||b(i).hasClass("keep-open")||"block"!==b(i).css("display")||e._close(i)}),n.hasClass("horizontal")){n.css({visibility:"hidden",display:"block"});var i=b(n.children("li")[0]).outerWidth();n.css({visibility:"visible",display:"none"});var s=n.children("li").length*i+(n.children("li").length-1);n.css("width",s)}e._open(n),a.addClass("active-container")}else e._close(n);t.preventDefault(),t.stopPropagation()}),this._toggle=t,!0===i.noClose&&n.on("click",function(t){t.stopPropagation()}),b(n).find("li.disabled a").on("click",function(t){t.preventDefault()})},_close:function(t){!1===z.isJQueryObject(t)&&(t=b(t));var e=t.data("dropdown"),n=e._toggle,i=e.options;t.slideUp(i.duration,function(){t.trigger("onClose",null,t),n.removeClass("active-toggle").removeClass("active-control"),z.exec(i.onUp,[t])})},_open:function(t){!1===z.isJQueryObject(t)&&(t=b(t));var e=t.data("dropdown"),n=e._toggle,i=e.options;t.slideDown(i.duration,function(){t.trigger("onOpen",null,t),n.addClass("active-toggle").addClass("active-control"),z.exec(i.onDrop,[t])})},close:function(){this._close(this.element)},open:function(){this._open(this.element)},changeAttribute:function(t){}};b(document).on("click",function(t){b("[data-role*=dropdown]").each(function(){var t=b(this);"block"===t.css("display")&&!1===t.hasClass("keep-open")&&t.data("dropdown").close()})}),y.plugin("dropdown",X);var W={init:function(t,e){return this.options=b.extend({},this.options,t),this.elem=e,this.element=b(e),this._setOptionsFromDOM(),this._create(),z.exec(this.options.onFileCreate,[this.element]),this},options:{caption:"Choose file",disabled:!1,onSelect:y.noop,onFileCreate:y.noop},_setOptionsFromDOM:function(){var t=this.element,e=this.options;b.each(t.data(),function(t,n){if(t in e)try{e[t]=b.parseJSON(n)}catch(i){e[t]=n}})},_create:function(){var t,e=this.element,n=this.options,i=e.prev(),a=e.parent(),s=b("<div>").addClass("file "+e[0].className),o=b("<span>").addClass("caption");0===i.length?a.prepend(s):s.insertAfter(i),e.appendTo(s),o.insertBefore(e),e.on("change",function(){var t=b(this).val();""!==t&&(t=t.replace(/.+[\\\/]/,""),o.html(t),o.attr("title",t),z.exec(n.onSelect,[t,e]))}),(t=b("<button>").addClass("button").attr("tabindex",-1).attr("type","button").html(n.caption)).appendTo(s),t.on("click",function(){e.trigger("click")}),"rtl"===e.attr("dir")&&s.addClass("rtl"),e[0].className="",!0===n.disabled||e.is(":disabled")?this.disable():this.enable()},disable:function(){this.element.data("disabled",!0),this.element.parent().addClass("disabled")},enable:function(){this.element.data("disabled",!1),this.element.parent().removeClass("disabled")},toggleState:function(){!1===this.element.data("disabled")?this.disable():this.enable()},toggleDir:function(){"rtl"===this.element.attr("dir")?this.element.parent().addClass("rtl"):this.element.parent().removeClass("rtl")},changeAttribute:function(t){switch(t){case"disabled":this.toggleState();break;case"dir":this.toggleDir()}}};y.plugin("file",W);var K={init:function(t,e){return this.options=b.extend({},this.options,t),this.elem=e,this.element=b(e),this._setOptionsFromDOM(),this._create(),z.exec(this.options.onGravatarCreate,[this.element]),this},options:{email:"",size:80,default:"404",onGravatarCreate:y.noop},_setOptionsFromDOM:function(){var t=this.element,e=this.options;b.each(t.data(),function(t,n){if(t in e)try{e[t]=b.parseJSON(n)}catch(i){e[t]=n}})},_create:function(){var t=this.element;this.options,"IMG"===t[0].tagName||b("<img>").appendTo(t);this.get()},getImage:function(t,e,n,i){var a=b("<img>");return a.attr("src",this.getImageSrc(t,e)),!0===i?a:a[0]},getImageSrc:function(t,e,n){return void 0===t||""===t.trim()?"":(e=e||80,n=z.encodeURI(n)||"404","//www.gravatar.com/avatar/"+z.md5(t.toLowerCase().trim())+"?size="+e+"&d="+n)},get:function(){var t=this.element,e=this.options,n="IMG"===t[0].tagName?t:t.find("img");if(0!==n.length)return n.attr("src",this.getImageSrc(e.email,e.size,e.default)),this},resize:function(t){this.options.size=void 0!==t?t:this.element.attr("data-size"),console.log(this.options.size),this.get()},email:function(t){this.options.email=void 0!==t?t:this.element.attr("data-email"),this.get()},changeAttribute:function(t){switch(console.log(t),t){case"data-size":this.resize();break;case"data-email":this.email()}}};y.plugin("gravatar",K);var Q={init:function(t,e){return this.options=b.extend({},this.options,t),this.elem=e,this.element=b(e),this.hint=null,this.interval=null,this._setOptionsFromDOM(),this._create(),z.exec(this.options.onHintCreate,[this.element]),this},options:{hintHide:5e3,clsHint:"",hintText:"",hintPosition:"top",hintOffset:4,onHintCreate:y.noop,onHintShow:y.noop,onHintHide:y.noop},_setOptionsFromDOM:function(){var t=this.element,e=this.options;b.each(t.data(),function(t,n){if(t in e)try{e[t]=b.parseJSON(n)}catch(i){e[t]=n}})},_create:function(){var t=this,e=this.element,n=this.options;e.on(y.eventEnter,function(){t.createHint(),n.hintHide>0&&(t.interval=setTimeout(function(){t.removeHint()},n.hintHide))}),e.on(y.eventLeave,function(){t.removeHint()})},createHint:function(){var t=this.elem,e=this.element,n=this.options,i=b("<div>").addClass("hint").addClass(n.clsHint).html(n.hintText),a=z.hiddenElementSize(i);if(b(".hint").remove(),"TD"===t.tagName||"TH"===t.tagName){var s=b("<div/>").css("display","inline-block").html(e.html());e.html(s),e=s}"top"===n.hintPosition?(i.addClass("top"),i.css({top:e.offset().top-b(window).scrollTop()-a.height-n.hintOffset,left:e.offset().left+e.outerWidth()/2-a.width/2-b(window).scrollLeft()})):"right"===n.hintPosition?(i.addClass("right"),i.css({top:e.offset().top+e.outerHeight()/2-a.height/2-b(window).scrollTop(),left:e.offset().left+e.outerWidth()-b(window).scrollLeft()+n.hintOffset})):"left"===n.hintPosition?(i.addClass("left"),i.css({top:e.offset().top+e.outerHeight()/2-a.height/2-b(window).scrollTop(),left:e.offset().left-a.width-b(window).scrollLeft()-n.hintOffset})):(i.addClass("bottom"),i.css({top:e.offset().top-b(window).scrollTop()+e.outerHeight()+n.hintOffset,left:e.offset().left+e.outerWidth()/2-a.width/2-b(window).scrollLeft()})),i.appendTo(b("body")),this.hint=i,z.exec(n.onHintShow,[i,e])},removeHint:function(){var t=this.hint,e=this.element,n=this.options,i=n.onHintHide===y.noop?0:300;null!==t&&(z.exec(n.onHintHide,[t,e]),clearInterval(this.interval),setTimeout(function(){t.hide(0,function(){t.remove()})},i))},changeAttribute:function(t){}};y.plugin("hint",Q);var q={init:function(t,e){return this.options=b.extend({},this.options,t),this.elem=e,this.element=b(e),this._setOptionsFromDOM(),this._create(),z.exec(this.options.onInputCreate,[this.element]),this},options:{clearButton:!0,revealButton:!0,clearButtonIcon:"<span class='mif-cross'></span>",revealButtonIcon:"<span class='mif-eye'></span>",disabled:!1,onInputCreate:y.noop},_setOptionsFromDOM:function(){var t=this.element,e=this.options;b.each(t.data(),function(t,n){if(t in e)try{e[t]=b.parseJSON(n)}catch(i){e[t]=n}})},_create:function(){var t,e,n=this.element,i=this.options,a=n.prev(),s=n.parent(),o=b("<div>").addClass("input "+n[0].className),r=b("<div>").addClass("button-group");0===a.length?s.prepend(o):o.insertAfter(a),n.appendTo(o),r.appendTo(o),!1!==i.clearButton&&((t=b("<button>").addClass("button").attr("tabindex",-1).attr("type","button").html(i.clearButtonIcon)).on("click",function(){n.val("").trigger("change").trigger("keyup").focus()}),t.appendTo(r)),"password"===n.attr("type")&&!1!==i.revealButton&&((e=b("<button>").addClass("button").attr("tabindex",-1).attr("type","button").html(i.revealButtonIcon)).on("mousedown",function(){n.attr("type","text")}).on("mouseup",function(){n.attr("type","password").focus()}),e.appendTo(r)),"rtl"===n.attr("dir")&&o.addClass("rtl"),n[0].className="",n.on("blur",function(){o.removeClass("focused")}),n.on("focus",function(){o.addClass("focused")}),!0===i.disabled||n.is(":disabled")?this.disable():this.enable()},disable:function(){this.element.data("disabled",!0),this.element.parent().addClass("disabled")},enable:function(){this.element.data("disabled",!1),this.element.parent().removeClass("disabled")},toggleState:function(){!1===this.element.data("disabled")?this.disable():this.enable()},toggleValid:function(){},changeAttribute:function(t){switch(t){case"disabled":this.toggleState();break;case"data-valid":this.toggleValid()}}};y.plugin("input",q);var $={options:{container:null,width:220,timeout:METRO_TIMEOUT,duration:METRO_ANIMATION_DURATION,distance:"100vh",animation:"swing"},notifies:[],setup:function(t){var e,n=b("body");return this.options=b.extend({},this.options,t),null===this.options.container&&(e=b("<div>").addClass("notify-container"),n.prepend(e),this.options.container=e),this},reset:function(){var t={width:220,timeout:METRO_TIMEOUT,duration:METRO_ANIMATION_DURATION,distance:"100vh",animation:"swing"};this.options=b.extend({},this.options,t)},create:function(t,e,n){var i,a,s=this,o=this.options;if(void 0===t||""===t.trim())return!1;(i=b("<div>").addClass("notify")).css({width:o.width}),e&&(a=b("<div>").addClass("notify-title").html(e),i.prepend(a)),b("<div>").addClass("notify-message").html(t).appendTo(i),void 0!==n&&(void 0!==n.cls&&i.addClass(n.cls),void 0!==n.width&&i.css({width:n.width})),i.on("click",function(){s.kill(b(this))}),i.hide(function(){i.appendTo(o.container),i.css({marginTop:o.distance}).fadeIn(100,function(){i.animate({marginTop:".25rem"},o.duration,o.animation,function(){void 0!==n&&!0===n.keepOpen||setTimeout(function(){s.kill(i,void 0!==n&&void 0!==n.onClose?n.onClose:void 0)},o.timeout),void 0!==n&&void 0!==n.onShow&&z.callback(n.onShow)})})})},kill:function(t,e){t.fadeOut("slow",function(){t.remove(),z.callback(e)})},killAll:function(){var t=this,e=b(".notify");b.each(e,function(){t.kill(b(this))})}};b.Metro.notify=$.setup();var Z={init:function(t,e){return this.options=b.extend({},this.options,t),this.elem=e,this.element=b(e),this.value=0,this.buffer=0,this._setOptionsFromDOM(),this._create(),z.exec(this.options.onProgressCreate,[this.element]),this},options:{value:0,buffer:0,type:"bar",small:!1,clsBack:"",clsBar:"",clsBuffer:"",onValueChange:y.noop,onBufferChange:y.noop,onComplete:y.noop,onBuffered:y.noop,onProgressCreate:y.noop},_setOptionsFromDOM:function(){var t=this.element,e=this.options;b.each(t.data(),function(t,n){if(t in e)try{e[t]=b.parseJSON(n)}catch(i){e[t]=n}})},_create:function(){var t=this.element,e=this.options;switch(t.html("").addClass("progress"),e.type){case"buffer":b("<div>").addClass("bar").appendTo(t),b("<div>").addClass("buffer").appendTo(t);break;case"load":t.addClass("with-load"),b("<div>").addClass("bar").appendTo(t),b("<div>").addClass("buffer").appendTo(t),b("<div>").addClass("load").appendTo(t);break;case"line":t.addClass("line");break;default:b("<div>").addClass("bar").appendTo(t)}!0===e.small&&t.addClass("small"),t.addClass(e.clsBack),t.find(".bar").addClass(e.clsBar),t.find(".buffer").addClass(e.clsBuffer),this.val(e.value),this.buff(e.buffer)},val:function(t){var e=this,n=this.element,i=this.options;if(void 0===t)return e.value;var a=n.find(".bar");if(0===a.length)return!1;this.value=parseInt(t,10),a.css("width",this.value+"%"),n.trigger("valuechange",[this.value]),z.exec(i.onValueChange,[this.value,n]),100===this.value&&z.exec(i.onComplete,[this.value,n])},buff:function(t){var e=this,n=this.element,i=this.options;if(void 0===t)return e.buffer;var a=n.find(".buffer");if(0===a.length)return!1;this.buffer=parseInt(t,10),a.css("width",this.buffer+"%"),n.trigger("bufferchange",[this.buffer]),z.exec(i.onBufferChange,[this.buffer,n]),100===this.buffer&&z.exec(i.onBuffered,[this.buffer,n])},changeValue:function(){this.val(this.element.attr("data-value"))},changeBuffer:function(){this.buff(this.element.attr("data-buffer"))},changeAttribute:function(t){switch(t){case"data-value":this.changeValue();break;case"data-buffer":this.changeBuffer()}}};y.plugin("progress",Z);var V={init:function(t,e){return this.options=b.extend({},this.options,t),this.elem=e,this.element=b(e),this._setOptionsFromDOM(),this._create(),z.exec(this.options.onRadioCreate,[this.element]),this},options:{caption:"",captionPosition:"right",disabled:!1,onRadioCreate:y.noop},_setOptionsFromDOM:function(){var t=this.element,e=this.options;b.each(t.data(),function(t,n){if(t in e)try{e[t]=b.parseJSON(n)}catch(i){e[t]=n}})},_create:function(){var t=this.element,e=this.options,n=t.prev(),i=t.parent(),a=b("<label>").addClass("radio "+t[0].className),s=b("<span>").addClass("check"),o=b("<span>").addClass("caption").html(e.caption);0===n.length?i.prepend(a):a.insertAfter(n),t.appendTo(a),s.appendTo(a),"left"===e.captionPosition?o.insertBefore(s):o.insertAfter(s),t[0].className="",!0===e.disabled&&t.is(":disabled")?this.disable():this.enable()},disable:function(){this.element.data("disabled",!0),this.element.parent().addClass("disabled")},enable:function(){this.element.data("disabled",!1),this.element.parent().removeClass("disabled")},toggleState:function(){!1===this.element.data("disabled")?this.disable():this.enable()},changeAttribute:function(t){switch(t){case"disabled":this.toggleState()}}};y.plugin("radio",V);var G={init:function(t,e){return this.options=b.extend({},this.options,t),this.elem=e,this.element=b(e),this._setOptionsFromDOM(),this._create(),z.exec(this.options.onResizableCreate,[this.element]),this},options:{resizeElement:".resize-element",onResizeStart:y.noop,onResizeStop:y.noop,onResize:y.noop,onResizableCreate:y.noop},_setOptionsFromDOM:function(){var t=this.element,e=this.options;b.each(t.data(),function(t,n){if(t in e)try{e[t]=b.parseJSON(n)}catch(i){e[t]=n}})},_create:function(){var t=this.element,e=this.options;t.on(),t.on(y.eventStart,e.resizeElement,function(n){if(!1!==t.data("canResize")){var i=z.clientXY(n),a=parseInt(t.outerWidth()),s=parseInt(t.outerHeight()),o={width:a,height:s};z.exec(e.onResizeStart,[t,o]),b(document).on(y.eventMove,function(n){var o=z.clientXY(n),r={width:a+o.x-i.x,height:s+o.y-i.y};t.css(r),z.exec(e.onResize,[t,r])})}}),t.on(y.eventStop,e.resizeElement,function(){b(document).off(y.eventMove);var n={width:parseInt(t.outerWidth()),height:parseInt(t.outerHeight())};z.exec(e.onResizeStop,[t,n])})},off:function(){this.element.data("canResize",!1)},on:function(){this.element.data("canResize",!0)},changeAttribute:function(t){}};y.plugin("resizable",G);var tt={init:function(t,e){return this.options=b.extend({},this.options,t),this.elem=e,this.element=b(e),this._setOptionsFromDOM(),this._create(),z.exec(this.options.onRippleCreate,[this.element]),this},options:{rippleColor:"#fff",rippleAlpha:.4,rippleTarget:"default",onRippleCreate:y.noop},_setOptionsFromDOM:function(){var t=this.element,e=this.options;b.each(t.data(),function(t,n){if(t in e)try{e[t]=b.parseJSON(n)}catch(i){e[t]=n}})},_create:function(){var t=this.element,e=this.options,n="default"===e.rippleTarget?null:e.rippleTarget;t.on("click",n,function(t){var n=b(this);"static"===n.css("position")&&n.css("position","relative"),n.css({overflow:"hidden"}),b(".ripple").remove();var i=Math.max(n.outerWidth(),n.outerHeight()),a=b("<span class='ripple'></span>").css({width:i,height:i});n.prepend(a);var s=t.pageX-n.offset().left-a.width()/2,o=t.pageY-n.offset().top-a.height()/2;a.css({background:z.hex2rgba(e.rippleColor,e.rippleAlpha),width:i,height:i,top:o+"px",left:s+"px"}).addClass("rippleEffect"),setTimeout(function(){b(".ripple").remove()},400)})},changeAttribute:function(t){}};y.plugin("ripple",tt);var et={init:function(t,e){return this.options=b.extend({},this.options,t),this.elem=e,this.element=b(e),this._setOptionsFromDOM(),this._create(),z.exec(this.options.onSelectCreate,[this.element]),this},options:{dropHeight:200,disabled:!1,onChange:y.noop,onSelectCreate:y.noop},_setOptionsFromDOM:function(){var t=this.element,e=this.options;b.each(t.data(),function(t,n){if(t in e)try{e[t]=b.parseJSON(n)}catch(i){e[t]=n}})},_create:function(){var t=this.element,e=this.options,n=t.prev(),i=t.parent(),a=b("<div>").addClass("select "+t[0].className),s=t.prop("multiple"),o=z.uniqueId();if(a.attr("id",o).addClass("dropdown-toggle"),0===n.length?i.prepend(a):a.insertAfter(n),t.appendTo(a),!1===s){var r=b("<input data-role='input'>").attr("type","text").attr("name","__"+t.attr("name")+"__").prop("readonly",!0),l=b("<ul>").addClass("d-menu").css({"max-height":e.dropHeight});b.each(t.children(),function(){var t,e,n=this,i=b(this);t=b("<li>").data("value",n.value).appendTo(l),e=b("<a>").html(n.text).appendTo(t).addClass(n.className),i.is(":selected")&&r.val(n.value).trigger("change"),e.appendTo(t),t.appendTo(l)}),l.on("click","li",function(){var n=b(this).data("value"),i=l.data("dropdown");r.val(n).trigger("change"),t.val(n),t.trigger("change"),i.close(),z.exec(e.onChange,[n])}),a.on("click",function(t){t.preventDefault(),t.stopPropagation()}),r.on("blur",function(){a.removeClass("focused")}),r.on("focus",function(){a.addClass("focused")}),a.append(r),a.append(l),l.dropdown({toggleElement:"#"+o})}!0===e.disabled||t.is(":disabled")?this.disable():this.enable()},disable:function(){this.element.data("disabled",!0),this.element.parent().addClass("disabled")},enable:function(){this.element.data("disabled",!1),this.element.parent().removeClass("disabled")},changeAttribute:function(t){}};y.plugin("select",et);var nt={init:function(t,e){return this.options=b.extend({},this.options,t),this.elem=e,this.element=b(e),this.data=null,this._setOptionsFromDOM(),this._create(),this},options:{changeUri:!0,encodeLink:!0,closed:!1,chromeNotice:!1,startFrom:null,slideToStart:!0,startSlideSleep:1e3,source:null,data:null,eventClick:"select",streamSelect:!1,onStreamClick:y.noop,onStreamSelect:y.noop,onEventClick:y.noop,onEventSelect:y.noop,onStreamerCreate:y.noop},_setOptionsFromDOM:function(){var t=this.element,e=this.options;b.each(t.data(),function(t,n){if(t in e)try{e[t]=b.parseJSON(n)}catch(i){e[t]=n}})},_create:function(){var t=this,e=this.element,n=this.options;if(e.addClass("streamer"),void 0===e.attr("id")&&e.attr("id",z.uniqueId()),null===n.source&&null===n.data)return!1;null!==n.source?b.get(n.source,function(e){t.data=e,t.build()}):(this.data=n.data,this.build()),!0===n.chromeNotice&&!0===z.detectChrome()&&!1===z.isTouchDevice()&&b("<p>").addClass("text-small text-muted").html("*) In Chrome browser please press and hold Shift and turn the mouse wheel.").insertAfter(e),!0!==z.isTouchDevice()&&b(e).on("mousewheel",".events-area",function(t){var e=b(this);if(void 0!==t.deltaY&&void 0!==t.deltaFactor&&t.deltaFactor>1){var n=e.scrollLeft()-30*t.deltaY;e.scrollLeft(n),t.preventDefault()}})},build:function(){var t=this,e=this.element,n=this.options,i=this.data,a=b("<div>").addClass("streams").appendTo(e),s=b("<div>").addClass("events-area").appendTo(e),o=b("<ul>").addClass("streamer-timeline").appendTo(s),r=b("<div>").addClass("streamer-events").appendTo(s),l=b("<div>").addClass("event-group").appendTo(r),d=z.getURIParameter(null,"StreamerIDS");null!==d&&!0===n.encodeLink&&(d=atob(d));var c=d?d.split("|")[0]:null,h=d?d.split("|")[1].split(","):[];if(void 0!==i.actions){var u=b("<div>").addClass("streamer-actions").appendTo(a);b.each(i.actions,function(){var t=this,n=b("<button>").addClass("streamer-action").addClass(t.cls).html(t.html);void 0!==t.onclick&&n.on("click",function(){z.exec(t.onclick,[e])}),n.appendTo(u)})}void 0===i.timeline&&(i.timeline={start:"09:00",stop:"18:00",step:20});var p=new Date,f=new Date,m=i.timeline.start?i.timeline.start.split(":"):[9,0],g=i.timeline.stop?i.timeline.stop.split(":"):[18,0],v=i.timeline.step?60*parseInt(i.timeline.step):1200;p.setHours(m[0]),p.setMinutes(m[1]),p.setSeconds(0),f.setHours(g[0]),f.setMinutes(g[1]),f.setSeconds(0);for(var C=p.getTime()/1e3;C<=f.getTime()/1e3;C+=v){var w=new Date(1e3*C),y=w.getHours(),T=w.getMinutes(),x=(y<10?"0"+y:y)+":"+(T<10?"0"+T:T);b("<li>").data("time",x).addClass("js-time-point-"+x.replace(":","-")).html("<em>"+x+"</em>").appendTo(o)}void 0!==i.streams&&b.each(i.streams,function(t){var i=this,s=b("<div>").addClass("stream").addClass(this.cls).appendTo(a);s.addClass(i.cls).data("one",!1).data("data",i.data),b("<div>").addClass("stream-title").html(i.title).appendTo(s),b("<div>").addClass("stream-secondary").html(i.secondary).appendTo(s),b(i.icon).addClass("stream-icon").appendTo(s);var o=z.computedRgbToHex(z.getStyleOne(s,"background-color")),r=z.computedRgbToHex(z.getStyleOne(s,"color")),d=b("<div>").addClass("stream-events").data("background-color",o).data("text-color",r).appendTo(l);void 0!==i.events&&b.each(i.events,function(i){var a=this,s=t+":"+i,l=b("<div>").data("origin",a).data("sid",s).data("data",a.data).data("time",a.time).addClass("stream-event").addClass("size-"+a.size+"x").addClass("shift-"+a.shift+"x").addClass(a.cls).appendTo(d),u=b("<div>").addClass("stream-event-slide").appendTo(l),p=b("<div>").addClass("slide-logo").appendTo(u),f=b("<div>").addClass("slide-data").appendTo(u);b("<img>").addClass("icon").attr("src",a.icon).appendTo(p),b("<span>").addClass("time").css({backgroundColor:o,color:r}).html(a.time).appendTo(p),b("<div>").addClass("title").html(a.title).appendTo(f),b("<div>").addClass("subtitle").html(a.subtitle).appendTo(f),b("<div>").addClass("desc").html(a.desc).appendTo(f),(!1===n.closed&&e.attr("id")===c&&-1!==h.indexOf(s)||!0===a.selected||1===parseInt(a.selected))&&l.addClass("selected"),!0!==n.closed&&!0!==a.closed&&1!==parseInt(a.closed)||(b(a.closeIcon).addClass("closed-icon").appendTo(u),l.data("closed",!0).data("target",a.target))})}),void 0!==i.global&&b.each(["before","after"],function(){var t=this;void 0!==i.global[t]&&b.each(i.global[t],function(){var n=this,i=b("<div>").addClass("event-group").addClass("size-"+n.size+"x"),a=b("<div>").addClass("stream-events global-stream").appendTo(i),s=b("<div>").addClass("stream-event").appendTo(a);s.addClass(n.cls).data("time",n.time).data("origin",n).data("data",n.data),b("<div>").addClass("event-title").html(n.title).appendTo(s),b("<div>").addClass("event-subtitle").html(n.subtitle).appendTo(s),b("<div>").addClass("event-html").html(n.html).appendTo(s),"before"===t?i.insertBefore(l):i.insertAfter(e.find(".event-group:last-child"))})}),e.on("click",".stream-event",function(e){var i=b(this);if(!1===n.closed&&!0!==i.data("closed")&&"select"===n.eventClick)i.toggleClass("selected"),!0===n.changeUri&&t.changeURI(),z.exec(n.onEventSelect,[i,i.hasClass("selected")]);else if(z.exec(n.onEventClick,[i]),!0===n.closed||!0===i.data("closed")){var a=i.data("target");a&&(window.location.href=a)}}),e.on("click",".stream",function(i){var a=b(this),s=a.index();!1!==n.streamSelect&&(e.data("stream")===s?(e.find(".stream-event").removeClass("disabled"),e.data("stream",-1)):(e.data("stream",s),e.find(".stream-event").addClass("disabled"),t.enableStream(a),z.exec(n.onStreamSelect,[a])),z.exec(n.onStreamClick,[a]))}),e.data("stream",-1),null!==n.startFrom&&!0===n.slideToStart&&setTimeout(function(){t.slideTo(n.startFrom)},n.startSlideSleep),z.exec(n.onStreamerCreate,[e])},slideTo:function(t){console.log(t);var e,n=this.element;this.options,this.data;e=b(void 0===t?n.find(".streamer-timeline li")[0]:n.find(".streamer-timeline .js-time-point-"+t.replace(":","-"))[0]),n.find(".events-area").animate({scrollLeft:e[0].offsetLeft-n.find(".streams .stream").outerWidth()},METRO_ANIMATION_DURATION)},enableStream:function(t){var e=this.element,n=(this.options,this.data,t.index());t.removeClass("disabled").data("streamDisabled",!1),e.find(".stream-events").eq(n).find(".stream-event").removeClass("disabled")},disableStream:function(t){var e=this.element,n=(this.options,this.data,t.index());t.addClass("disabled").data("streamDisabled",!0),e.find(".stream-events").eq(n).find(".stream-event").addClass("disabled")},toggleStream:function(t){!0===t.data("streamDisabled")?this.enableStream(t):this.disableStream(t)},getLink:function(){var t,e=this.element,n=this.options,i=(this.data,e.find(".stream-event")),a=[],s=window.location.href;return b.each(i,function(){var t=b(this);void 0!==t.data("sid")&&t.hasClass("selected")&&a.push(t.data("sid"))}),t=e.attr("id")+"|"+a.join(","),!0===n.encodeLink&&(t=btoa(t)),z.updateURIParameter(s,"StreamerIDS",t)},getTimes:function(){var t=this.element,e=(this.options,this.data,t.find(".streamer-timeline > li")),n=[];return b.each(e,function(){n.push(b(this).data("time"))}),n},getEvents:function(t,e){var n,i=this.element,a=(this.options,this.data,[]);switch(t){case"selected":n=i.find(".stream-event.selected");break;case"non-selected":n=i.find(".stream-event:not(.selected)");break;default:n=i.find(".stream-event")}return b.each(n,function(){var t,n=b(this);!0!==e&&n.parent().hasClass("global-stream")||(t=n.data("origin"),a.push(t))}),a},changeURI:function(){this.element,this.options,this.data;var t=this.getLink();history.pushState({},document.title,t)},changeAttribute:function(t){}};y.plugin("streamer",nt);var it={init:function(t,e){return this.options=b.extend({},this.options,t),this.elem=e,this.element=b(e),this._setOptionsFromDOM(),this._create(),z.exec(this.options.onSwitchCreate,[this.element]),this},options:{caption:"",captionPosition:"right",disabled:!1,onSwitchCreate:y.noop},_setOptionsFromDOM:function(){var t=this.element,e=this.options;b.each(t.data(),function(t,n){if(t in e)try{e[t]=b.parseJSON(n)}catch(i){e[t]=n}})},_create:function(){var t=this.element,e=this.options,n=t.prev(),i=t.parent(),a=b("<label>").addClass("switch "+t[0].className),s=b("<span>").addClass("check"),o=b("<span>").addClass("caption").html(e.caption);0===n.length?i.prepend(a):a.insertAfter(n),t.appendTo(a),s.appendTo(a),"left"===e.captionPosition?o.insertBefore(s):o.insertAfter(s),t[0].className="",!0===e.disabled&&t.is(":disabled")?this.disable():this.enable()},disable:function(){this.element.data("disabled",!0),this.element.parent().addClass("disabled")},enable:function(){this.element.data("disabled",!1),this.element.parent().removeClass("disabled")},toggleState:function(){!1===this.element.data("disabled")?this.disable():this.enable()},changeAttribute:function(t){switch(t){case"disabled":this.toggleState()}}};y.plugin("switch",it);var at={init:function(t,e){return this.options=b.extend({},this.options,t),this.elem=e,this.element=b(e),this._targets=[],this._setOptionsFromDOM(),this._create(),z.exec(this.options.onTabsCreate,[this.element]),this},options:{onTab:y.noop,onTabsCreate:y.noop},_setOptionsFromDOM:function(){var t=this.element,e=this.options;b.each(t.data(),function(t,n){if(t in e)try{e[t]=b.parseJSON(n)}catch(i){e[t]=n}})},_create:function(){var t,e,n=this,i=this.element,a=(this.options,i.prev()),s=i.parent(),o=b("<div>").addClass("tabs-wrapper "+i[0].className);i[0].className="",0===a.length?s.prepend(o):o.insertAfter(a),i.appendTo(o),i.data("expanded",!1),e=b("<div>").addClass("expand-title"),o.prepend(e),t=b("<span>").addClass("expand-button").html("<span></span>"),o.append(t),o.on("click",".expand-button, .expand-title",function(){!1===i.data("expanded")?(i.addClass("expand"),i.data("expanded",!0)):(i.removeClass("expand"),i.data("expanded",!1))}),i.on("click","a",function(t){var e=b(this).parent("li");!0===i.data("expanded")&&(i.removeClass("expand"),i.data("expanded",!1)),n._open(e),t.preventDefault()}),this._open()},_collectTargets:function(){var t=this,e=this.element.find("li");b.each(e,function(){var e=b(this).find("a").attr("href");e&&"#"!==e&&t._targets.push(e)})},_open:function(t){var e=this.element,n=this.options,i=e.find("li"),a=e.siblings(".expand-title");if(0!==i.length){this._collectTargets(),void 0===t&&(t=b(i[0]));var s=t.find("a").attr("href");void 0!==s&&(i.removeClass("active"),t.parent().hasClass("d-menu")?t.parent().parent().addClass("active"):t.addClass("active"),b.each(this._targets,function(){b(this).hide()}),"#"!==s&&b(s).show(),a.html(t.find("a").html()),z.exec(n.onTab,[t]))}},changeAttribute:function(t){}};y.plugin("tabs",at);var st={init:function(t,e){return this.options=b.extend({},this.options,t),this.elem=e,this.element=b(e),this._setOptionsFromDOM(),this._create(),z.exec(this.options.onTextareaCreate,[this.element]),this},options:{clearButton:!0,clearButtonIcon:"<span class='mif-cross'></span>",autoSize:!1,disabled:!1,onTextareaCreate:y.noop},_setOptionsFromDOM:function(){var t=this.element,e=this.options;b.each(t.data(),function(t,n){if(t in e)try{e[t]=b.parseJSON(n)}catch(i){e[t]=n}})},_create:function(){var t,e=this.element,n=this.options,i=e.prev(),a=e.parent(),s=b("<div>").addClass("textarea "+e[0].className);0===i.length?a.prepend(s):s.insertAfter(i),!1!==n.clearButton&&((t=b("<button>").addClass("button clear-button").attr("tabindex",-1).attr("type","button").html(n.clearButtonIcon)).on("click",function(){e.val("").trigger("change").trigger("keyup").focus()}),t.appendTo(s)),e.appendTo(s);var o=function(){setTimeout(function(){e[0].style.cssText="height:auto;",e[0].style.cssText="height:"+e[0].scrollHeight+"px"},0)};n.autoSize&&(s.addClass("autosize"),setTimeout(function(){o()},0),e.on("keyup",o),e.on("keydown",o),e.on("change",o),e.on("focus",o),e.on("cut",o),e.on("paste",o),e.on("drop",o)),e[0].className="",e.on("blur",function(){s.removeClass("focused")}),e.on("focus",function(){s.addClass("focused")}),!0===n.disabled||e.is(":disabled")?this.disable():this.enable()},disable:function(){this.element.data("disabled",!0),this.element.parent().addClass("disabled")},enable:function(){this.element.data("disabled",!1),this.element.parent().removeClass("disabled")},toggleState:function(){!1===this.element.data("disabled")?this.disable():this.enable()},changeAttribute:function(t){switch(t){case"disabled":this.toggleState()}}};y.plugin("textarea",st);var ot={create:function(t,e,n,i){var a=b("<div>").addClass("toast").html(t).appendTo(b("body")).hide(),s=a.outerWidth();n=n||METRO_TIMEOUT,a.css({left:"50%","margin-left":-s/2}).addClass(i).fadeIn(METRO_ANIMATION_DURATION),setTimeout(function(){a.fadeOut(METRO_ANIMATION_DURATION,function(){a.remove(),z.callback(e)})},n)}};b.Metro.toast=ot;var rt={init:function(t,e){return this.options=b.extend({},this.options,t),this.elem=e,this.element=b(e),this._onsubmit=null,this._action=null,this._setOptionsFromDOM(),this._create(),z.exec(this.options.onValidatorCreate,[this.element]),this},options:{submitTimeout:200,interactiveCheck:!1,onBeforeSubmit:y.noop_true,onSubmit:y.noop,onError:y.noop,onValid:y.noop,onValidatorCreate:y.noop},_setOptionsFromDOM:function(){var t=this.element,e=this.options;b.each(t.data(),function(t,n){if(t in e)try{e[t]=b.parseJSON(n)}catch(i){e[t]=n}})},is_control:function(t){return t.parent().hasClass("input")||t.parent().hasClass("select")||t.parent().hasClass("textarea")},_create:function(){var t=this,e=this.element,n=this.options,i=e.find("[data-validate]");this._action=e[0].action,e.attr("novalidate","novalidate").attr("action","javascript:"),b.each(i,function(){var e=b(this);e.data("validate").indexOf("required")>-1&&(t.is_control(e)?e.parent().addClass("required"):e.addClass("required")),!0===n.interactiveCheck&&e.on("propertychange change keyup input paste",function(){t._check(this)})}),this._onsubmit=null,null!==e[0].onsubmit&&(this._onsubmit=e[0].onsubmit,e[0].onsubmit=null),e[0].onsubmit=function(){return t._submit()}},_check:function(t,e,n){var i=this,a=this.options,s=!0,o=b(t),r=this.is_control(o),l=void 0!==o.data("validate")?String(o.data("validate")).split(",").map(function(t){return t.trim()}):[];o.is(":disabled")||(r?o.parent().removeClass("invalid valid"):o.removeClass("invalid valid"),b.each(l,function(){if(!1!==s){var t,n,a=this.split("=");t=a[0],a.shift(),n=a.join("="),"compare"===t&&(n=i.element[0].elements[n].value),s=i._funcs[t](o.val(),n),void 0!==e&&(e.val+=s?0:1)}}),!1===s?(r?o.parent().addClass("invalid"):o.addClass("invalid"),!0===n&&z.exec(a.onError,[o,o.val()])):(r?o.parent().addClass("valid"):o.addClass("valid"),!0===n&&z.exec(a.onValid,[o,o.val()])))},_submit:function(){var t=this,e=this.element,n=this.options,i=e.find("[data-validate]"),a=e.find(":submit").attr("disabled","disabled").addClass("disabled"),s={val:0};return b.each(i,function(){t._check(this,s,!0)}),a.removeAttr("disabled").removeClass("disabled"),e[0].action=this._action,s.val+=!1===z.exec(n.onBeforeSubmit,[e])?1:0,0===s.val&&setTimeout(function(){z.exec(n.onSubmit,[e]),null!==t._onsubmit&&z.exec(t._onsubmit)},n.submitTimeout),0===s.val},_funcs:{required:function(t){return""!==t.trim()},length:function(t,e){return!(void 0===e||isNaN(e)||e<=0)&&t.trim().length===parseInt(e)},minlength:function(t,e){return!(void 0===e||isNaN(e)||e<=0)&&t.trim().length>=parseInt(e)},maxlength:function(t,e){return!(void 0===e||isNaN(e)||e<=0)&&t.trim().length<=parseInt(e)},min:function(t,e){return void 0!==e&&!isNaN(e)&&(!!this.number(t)&&(!isNaN(t)&&Number(t)>=Number(e)))},max:function(t,e){return void 0!==e&&!isNaN(e)&&(!!this.number(t)&&(!isNaN(t)&&Number(t)<=Number(e)))},email:function(t){return/^[a-z0-9\u007F-\uffff!#$%&'*+\/=?^_`{|}~-]+(?:\.[a-z0-9\u007F-\uffff!#$%&'*+\/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z]{2,}$/i.test(t)},url:function(t){return/^(?:(?:https?|ftp):\/\/)(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)(?:\.(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)*(?:\.(?:[a-z\u00a1-\uffff]{2,}))\.?)(?::\d{2,5})?(?:[/?#]\S*)?$/i.test(t)},date:function(t){return"Invalid Date"!==new Date(t)&&!isNaN(new Date(t))},number:function(t){return!isNaN(t)},digits:function(t){return/^\d+$/.test(t)},hexcolor:function(t){return/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(t)},pattern:function(t,e){return void 0!==e&&new RegExp(e).test(t)},compare:function(t,e){return t===e}},changeAttribute:function(t){t}};y.plugin("validator",rt);var lt={init:function(t,e){return this.options=b.extend({},this.options,t),this.elem=e,this.element=b(e),this.win=null,this.overlay=null,this._setOptionsFromDOM(),this._create(),z.exec(this.options.onWindowCreate,[this.win,this.element]),this},options:{width:"auto",height:"auto",btnClose:!0,btnMin:!0,btnMax:!0,clsCaption:"",clsContent:"",clsWindow:"",draggable:!0,dragElement:".window-caption",dragArea:"parent",shadow:!1,icon:"",title:"Window",content:"default",resizable:!0,overlay:!1,overlayColor:"transparent",overlayAlpha:.5,modal:!1,position:"absolute",checkEmbed:!0,top:"auto",left:"auto",place:"auto",onDragStart:y.noop,onDragStop:y.noop,onDragMove:y.noop,onCaptionDblClick:y.noop,onCloseClick:y.noop,onMaxClick:y.noop,onMinClick:y.noop,onResizeStart:y.noop,onResizeStop:y.noop,onResize:y.noop,onWindowCreate:y.noop,onShow:y.noop,onWindowDestroy:y.noop,onCanClose:y.noop_true,onClose:y.noop},_setOptionsFromDOM:function(){var t=this.element,e=this.options;b.each(t.data(),function(t,n){if(t in e)try{e[t]=b.parseJSON(n)}catch(i){e[t]=n}})},_create:function(){var t,e,n=this.element,i=this.options,a=n.prev(),s=n.parent();!0===i.modal&&(i.btnMax=!1,i.btnMin=!1,i.resizable=!1),"default"===i.content&&(i.content=n),t=this._window(i),0===a.length?s.prepend(t):t.insertAfter(a),!0===i.overlay&&((e=this._overlay()).appendTo(t.parent()),this.overlay=e),z.exec(i.onShow,[t]),this.win=t},_window:function(t){var e,n,i,a,s,o=this;return(e=b("<div>").addClass("window")).css({width:t.width,height:t.height,position:t.position,top:t.top,left:t.left}),!0===t.modal&&e.addClass("modal"),n=b("<div>").addClass("window-caption"),i=b("<div>").addClass("window-content"),e.append(n),e.append(i),!0===t.status&&(s=b("<div>").addClass("window-status"),e.append(s)),!0===t.shadow&&e.addClass("win-shadow"),void 0!==t.icon&&b("<span>").addClass("icon").html(t.icon).appendTo(n),void 0!==t.title&&b("<span>").addClass("title").html(t.title).appendTo(n),void 0!==t.content&&"original"!==t.content&&(z.isUrl(t.content)&&z.isVideoUrl(t.content)&&(t.content=z.embedUrl(t.content)),!z.isJQueryObject(t.content)&&z.isFunc(t.content)&&(t.content=z.exec(t.content)),z.isJQueryObject(t.content)?t.content.appendTo(i):i.html(t.content)),!0!==t.btnClose&&!0!==t.btnMin&&!0!==t.btnMax||((a=b("<div>").addClass("buttons")).appendTo(n),!0===t.btnMax&&b("<span>").addClass("btn-max").appendTo(a),!0===t.btnMin&&b("<span>").addClass("btn-min").appendTo(a),!0===t.btnClose&&b("<span>").addClass("btn-close").appendTo(a)),e.attr("id",void 0===t.id?z.uniqueId():t.id),!0===t.resizable&&(b("<span>").addClass("resize-element").appendTo(e),e.addClass("resizable")),e.on("dblclick",".window-caption",function(t){o.maximized(t)}),e.on("click",".btn-max",function(t){o.maximized(t)}),e.on("click",".btn-min",function(t){o.minimized(t)}),e.on("click",".btn-close",function(t){o.close(t)}),!0===t.resizable&&e.resizable({resizeElement:".resize-element",onResizeStart:t.onResizeStart,onResizeStop:t.onResizeStop,onResize:t.onResize}),!0===t.draggable&&e.draggable({dragElement:t.dragElement,dragArea:t.dragArea,onDragStart:t.onDragStart,onDragStop:t.onDragStop,onDragMove:t.onDragMove}),"auto"!==t.place&&e.css(z.placeElement(e,t.place)),e.addClass(t.clsWindow),n.addClass(t.clsCaption),i.addClass(t.clsContent),e},_overlay:function(){this.win,this.element;var t=this.options,e=b("<div>");return e.addClass("overlay"),"transparent"===t.overlayColor?e.addClass("transparent"):e.css({background:z.hex2rgba(t.overlayColor,t.overlayAlpha)}),e},maximized:function(t){var e=this.win,n=(this.element,this.options),i=b(t.currentTarget);e.toggleClass("maximized"),i.hasClass("window-caption")?z.exec(n.onCaptionDblClick,[e]):z.exec(n.onMaxClick,[e])},minimized:function(t){var e=this.win,n=(this.element,this.options);e.toggleClass("minimized"),z.exec(n.onMinClick,[e])},close:function(t){var e=this.win,n=(this.element,this.options);if(!1===z.exec(n.onCanClose,[e]))return!1;var i=0;n.onClose!==y.noop&&(i=500),z.exec(n.onClose,[e]),setTimeout(function(){!0===n.modal&&e.siblings(".overlay").remove(),z.exec(n.onCloseClick(),[e]),z.exec(n.onWindowDestroy,[e]),e.remove()},i)},toggleButtons:function(t){this.element;var e=this.win,n=(this.options,e.find(".btn-close")),i=e.find(".btn-min"),a=e.find(".btn-max");"data-btn-close"===t&&n.toggle(),"data-btn-min"===t&&i.toggle(),"data-btn-max"===t&&a.toggle()},changeSize:function(t){var e=this.element,n=this.win;this.options;"data-width"===t&&n.css("width",e.data("width")),"data-height"===t&&n.css("height",e.data("height"))},changeClass:function(t){var e=this.element,n=this.win;this.options;"data-cls-caption"===t&&(n.find(".window-caption")[0].className=e.attr("data-cls-caption")),"data-cls-content"===t&&(n.find(".window-content")[0].className=e.attr("data-cls-content"))},toggleShadow:function(){var t=this.element,e=this.win;this.options;!0===JSON.parse(t.attr("data-shadow"))?e.addClass("win-shadow"):e.removeClass("win-shadow")},setContent:function(){var t,e=this.element,n=this.win,i=(this.options,e.attr("data-content"));t=!z.isJQueryObject(i)&&z.isFunc(i)?z.exec(i):z.isJQueryObject(i)?i.html():i,n.find(".window-content").html(t)},setTitle:function(){var t=this.element,e=this.win,n=(this.options,t.attr("data-title"));e.find(".window-caption .title").html(n)},setIcon:function(){var t=this.element,e=this.win,n=(this.options,t.attr("data-icon"));e.find(".window-caption .icon").html(n)},getIcon:function(){this.element;var t=this.win;this.options;return t.find(".window-caption .icon").html()},getTitle:function(){this.element;var t=this.win;this.options;return t.find(".window-caption .title").html()},toggleDraggable:function(){var t=this.element,e=this.win,n=(this.options,JSON.parse(t.attr("data-draggable"))),i=e.data("draggable");!0===n?i.on():i.off()},toggleResizable:function(){var t=this.element,e=this.win,n=(this.options,JSON.parse(t.attr("data-resizable"))),i=e.data("resizable");!0===n?(i.on(),e.find(".resize-element").removeClass("resize-element-disabled")):(i.off(),e.find(".resize-element").addClass("resize-element-disabled"))},changeTopLeft:function(t){var e,n=this.element,i=this.win;this.options;if("data-top"===t){if(e=parseInt(n.attr("data-top")),!isNaN(e))return;i.css("top",e)}if("data-left"===t){if(e=parseInt(n.attr("data-left")),!isNaN(e))return;i.css("left",e)}},changePlace:function(t){var e=this.element,n=this.win,i=(this.options,e.attr("data-place"));z.placeElement(n,i)},changeAttribute:function(t){switch(t){case"data-btn-close":case"data-btn-min":case"data-btn-max":this.toggleButtons(t);break;case"data-width":case"data-height":this.changeSize(t);break;case"data-cls-caption":case"data-cls-content":this.changeClass(t);break;case"data-shadow":this.toggleShadow();break;case"data-icon":this.setIcon();break;case"data-title":this.setTitle();break;case"data-content":this.setContent();break;case"data-draggable":this.toggleDraggable();break;case"data-resizable":this.toggleResizable();break;case"data-top":case"data-left":this.changeTopLeft(t);break;case"data-place":this.changePlace(t)}}};return y.plugin("window",lt),y.init()});
//# sourceMappingURL=metro.min.js.map