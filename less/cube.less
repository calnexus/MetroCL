@import (once) "include/vars";
@import (once) "include/mixins";

.cube {
    display: block;
    position: relative;
    width: 320px;
    height: 160px;
    margin: 120px auto 50px;
    .rotateY(30deg);
}

.cube {
    .side {
        display: flex;
        flex-flow: row wrap;
        justify-content: space-between;
        position: absolute;
        overflow: hidden;
        width: 160px;
        height: 160px;
        top: 0;
        left: 0;
    }

    .side {
        &.left-side {
            .skewY(23deg); .rotateX(10deg);
        }

        &.right-side {
            left: 160px;
            .skewY(-23deg); .rotateY(10deg);
        }

        &.top-side {
            left: 80px;
            bottom: 116px;
            top: auto;
            .rotate(45deg); .rotateZ(0); .skew(-22deg, -22deg);
        }
    }
}

.cube {
    .side {
        .cube-cell {
            display: block;
            position: relative;
            width: 24px;
            height: 24px;
            margin: 8px;
            flex-grow: 0;
            flex-shrink: 0;
            background-color: #231F20;
            border: 1px solid #303030;
            box-shadow: 0 0 5px rgba(118,118,118, .8);

            &.light {
                animation: pulsar-cell 2.5s 0s ease-out infinite;
                background-color: #c4122f;
                border-color: #c4122f;
            }
        }
    }
}

@keyframes pulsar-cell {
    0%, 100% {
        box-shadow: 0 0 10px rgba(209, 30, 20, 1), 0 0 10px rgba(209, 30, 20, 1), 0 0 10px rgba(209, 30, 20, 1);
    }
    50% {
        box-shadow: 0 0 10px rgba(209, 30, 20, .5), 0 0 10px rgba(209, 30, 20, .5), 0 0 10px rgba(209, 30, 20, .5);
    }
}